
/*-----default.js----*/

(function($){$.fn.LoadFirst=function(){$('div.sfMessage').on("click",function(){$(this).slideUp();});$('a.sfManageControl').on("click",function(e){var $this=$(this);$('html, body').animate({scrollTop:0},'slow');var screen_res=screen.width;var align=(screen_res-800)/2;var url=$(this).attr("rel");$('#divFrame').attr("src",url);var dialogOptions={"title":$this.parents('.sfModule').find('.sfPosition').text(),"width":800,"height":600,"modal":true,"position":[align,150],"z-index":500,"close":function(){location.reload();}};if($("#button-cancel").attr("checked")){dialogOptions["buttons"]={"Cancel":function(){$(this).dialog("close");}};}
var dialogExtendOptions={"maximize":true,"minimize":false};$("#divFrame").dialog(dialogOptions).dialogExtend(dialogExtendOptions);$('div.ui-dialog').css("z-index","3000");$('div.ui-dialog').resizable('destroy');return false;});$("#btnScrollTop").hide();$(window).scroll(function(){if($(this).scrollTop()>100){$('#btnScrollTop').fadeIn();}else{$('#btnScrollTop').fadeOut();}
if($(this).scrollTop()>0){$('.sfTopbar').css('position','fixed');}else{$('.sfTopbar').css('position','relative');}});$('#btnScrollTop').click(function(){$('body,html').animate({scrollTop:0},800);return false;});var link=document.createElement('link');link.type='image/x-icon';link.rel='shortcut icon';link.href=templateFavIcon;document.getElementsByTagName('head')[0].appendChild(link);};})(jQuery);

/*-----jquery.dialogextend.js----*/

(function($){var defaults={"maximize":false,"minimize":false,"dblclick":false,"titlebar":false,"icons":{"maximize":"ui-icon-extlink","minimize":"ui-icon-minus","restore":"ui-icon-newwin"},"events":{"load":null,"beforeCollapse":null,"beforeMaximize":null,"beforeMinimize":null,"beforeRestore":null,"collapse":null,"maximize":null,"minimize":null,"restore":null}};var settings;var resetstyle="display: block; z-index: 9999; outline: 0px none; position: absolute; height: auto; width: 720px; top: 100px; left: 50%; margin-left:-360px";var methods={"init":function(options){var self=this;$(this).data("dialog-state","normal");$(this).parent("div").attr("style",resetstyle);if(!$(self).dialog){$.error("jQuery.dialogExtend Error : Only jQuery UI Dialog element is accepted");}
options=options||{};options.icons=options.icons||{};options.events=options.events||{};settings=$.extend({},defaults,options);settings.icons=$.extend({},defaults.icons,options.icons);settings.events=$.extend({},defaults.events,options.events);$(self).each(function(){$(this).data("dialog-state","normal").dialogExtend("_verifySettings").dialogExtend("_initEvents").dialogExtend("_initButtons").dialogExtend("_initTitleBar").dialogExtend("_trigger","load").dialogExtend("_resetwidth");});return self;},"_resetwidth":function(){$('#divFrame').css("width","100%");},"collapse":function(){var self=this;var newHeight=$(this).dialog("widget").find(".ui-dialog-titlebar").height()+15;$(self).dialogExtend("_trigger","beforeCollapse").dialogExtend("_saveSnapshot").data("dialog-state","collapsed").dialog("option",{"height":newHeight,"maxHeight":newHeight}).hide().dialog("widget").find(".ui-dialog-buttonpane:visible").hide().end().find(".ui-dialog-titlebar").css("white-space","nowrap").end().find(".ui-dialog-content").dialogExtend("_trigger","collapse").dialogExtend("_resetwidth");return self;},"maximize":function(){var self=this;var newHeight=$(window).height()-11;var newWidth=$(window).width()-11;$(self).dialogExtend("_trigger","beforeMaximize").dialogExtend("_saveSnapshot").data("dialog-state","maximized").dialogExtend("_toggleButtons").dialog("widget").css("position","fixed").find(".ui-dialog-content").show().dialog("widget").find(".ui-dialog-buttonpane").show().end().find(".ui-dialog-content").dialog("option",{"resizable":false,"height":newHeight,"width":newWidth,"position":[1,1]}).attr('draggable','false').dialog("widget").draggable("option","handle",null).find(".ui-dialog-draggable-handle").css("cursor","text").end().find(".ui-dialog-content").dialogExtend("_trigger","maximize").dialogExtend("_resetwidth");return self;},"restore":function(){var self=this;var screen_res=screen.width;var align=(screen_res-800)/2;var beforeState=$(self).data("dialog-state");$(self).dialogExtend("_trigger","beforeRestore").data("dialog-state","normal").dialogExtend("_toggleButtons").dialogExtend(beforeState=="maximized"?"_restoreFromMaximized":beforeState=="minimized"?"_restoreFromMinimized":beforeState=="collapsed"?"_restoreFromCollapsed":$.error("jQuery.dialogExtend Error : Cannot restore dialog from unknown state '"+beforeState+"'")).dialogExtend("_trigger","restore").dialog("option",{"position":[align,200]}).dialog("widget").draggable("option","handle",null).find(".ui-dialog-draggable-handle").css("cursor","text").end().find(".ui-dialog-content").dialogExtend("_resetwidth");$('div.ui-dialog').resizable('destroy');return self;},"minimize":function(){var self=this;var container="#minimized-dialog-container";var newHeight=$(this).dialog("widget").find(".ui-dialog-titlebar").height()+15;var newWidth=200;if(!$(container).length){$("<div />").attr("id",container.replace("#","")).css({"left":1,"bottom":1,"position":"fixed"}).appendTo("body");}
$(self).dialogExtend("_trigger","beforeMinimize").dialogExtend("_saveSnapshot").data("dialog-state","minimized").dialogExtend("_toggleButtons").dialog("widget").css({"float":"left","margin":1,"position":"static"}).appendTo(container).find(".ui-dialog-content").dialog("option",{"resizable":false,"height":newHeight,"width":newWidth,"position":[400,200]}).attr('draggable','false').hide().dialog("widget").find(".ui-dialog-buttonpane:visible").hide().end().find(".ui-dialog-titlebar").css("white-space","nowrap").end().find(".ui-dialog-content").dialog("widget").draggable("option","handle",null).find(".ui-dialog-draggable-handle").css("cursor","text").end().find(".ui-dialog-content").dialogExtend("_trigger","minimize").dialogExtend("_resetwidth");return self;},"_initButtons":function(){var self=this;var titlebar=$(self).dialog("widget").find(".ui-dialog-titlebar");$(titlebar).append('<a class="ui-dialog-titlebar-maximize ui-corner-all" href="#"><span class="ui-icon '+settings.icons.maximize+'">maximize</span></a>').append('<a class="ui-dialog-titlebar-minimize ui-corner-all" href="#"><span class="ui-icon '+settings.icons.minimize+'">minimize</span></a>').append('<a class="ui-dialog-titlebar-restore ui-corner-all" href="#"><span class="ui-icon '+settings.icons.restore+'">restore</span></a>').find(".ui-dialog-titlebar-maximize,.ui-dialog-titlebar-minimize,.ui-dialog-titlebar-restore").attr("role","button").mouseover(function(){$(this).addClass("ui-state-hover");}).mouseout(function(){$(this).removeClass("ui-state-hover");}).focus(function(){$(this).addClass("ui-state-focus");}).blur(function(){$(this).removeClass("ui-state-focus");}).end().find(".ui-dialog-titlebar-maximize").toggle(settings.maximize).css({"right":settings.maximize?"1.4em":"-9999em"}).click(function(e){e.preventDefault();$(self).dialogExtend("maximize");}).end().find(".ui-dialog-titlebar-minimize").toggle(settings.minimize).css({"right":settings.maximize?"2.5em":settings.minimize?"1.4em":"-9999em"}).click(function(e){e.preventDefault();$(self).dialogExtend("minimize");}).end().find(".ui-dialog-titlebar-restore").hide().css({"right":"-9999em"}).click(function(e){e.preventDefault();$(self).dialogExtend("restore");}).end().dblclick(function(evt){if(settings.dblclick&&settings.dblclick.length){$(self).dialogExtend($(self).data("dialog-state")!="normal"?"restore":settings.dblclick);}}).each(function(){$(this).select(function(){return false;});});return self;},"_initEvents":function(){var self=this;$.each(settings.events,function(type){if($.isFunction(settings.events[type])){$(self).bind(type+".dialogExtend",settings.events[type]);}});return self;},"_initStyles":function(){var self=this;var style='';style+='<style type="text/css">';style+='.ui-dialog .ui-dialog-titlebar-maximize,';style+='.ui-dialog .ui-dialog-titlebar-minimize,';style+='.ui-dialog .ui-dialog-titlebar-restore { position: absolute; top: 50%; width: 19px; margin: -10px 0 0 0; padding: 1px; height: 18px; }';style+='.ui-dialog .ui-dialog-titlebar-maximize span,';style+='.ui-dialog .ui-dialog-titlebar-minimize span,';style+='.ui-dialog .ui-dialog-titlebar-maximize:hover,';style+='.ui-dialog .ui-dialog-titlebar-maximize:focus,';style+='.ui-dialog .ui-dialog-titlebar-minimize:hover,';style+='.ui-dialog .ui-dialog-titlebar-minimize:focus,';style+='.ui-dialog .ui-dialog-titlebar-restore:hover,';style+='.ui-dialog .ui-dialog-titlebar-restore:focus { padding: 0; }';style+='.ui-dialog .ui-dialog-titlebar ::selection { background-color: transparent; }';style+='</style>';$(style).appendTo("body");return self;},"_initTitleBar":function(){var self=this;switch(settings.titlebar){case false:break;case"none":if($(self).dialog("option","draggable")){var handle=$("<div />").addClass("ui-dialog-draggable-handle").css("cursor","move").height(5);$(self).dialog("widget").prepend(handle).draggable("option","handle",handle);}
$(self).dialog("widget").find(".ui-dialog-titlebar").find(".ui-dialog-title").html("&nbsp;").end().css({"background-color":"transparent","background-image":"none","border":0,"position":"absolute","right":0,"top":0,"z-index":9999}).end();break;case"transparent":$(self).dialog("widget").find(".ui-dialog-titlebar").css({"background-color":"transparent","background-image":"none","border":0});break;default:$.error("jQuery.dialogExtend Error : Invalid <titlebar> value '"+settings.titlebar+"'");}
return self;},"_loadSnapshot":function(){var self=this;return{"config":{"resizable":$(self).data("original-config-resizable"),"draggable":$(self).data("original-config-draggable")},"size":{"height":$(self).data("original-size-height"),"width":$(self).data("original-size-width"),"maxHeight":$(self).data("original-size-maxHeight")},"position":{"mode":$(self).data("original-position-mode"),"left":$(self).data("original-position-left"),"top":$(self).data("original-position-top")},"titlebar":{"wrap":$(self).data("original-titlebar-wrap")}};},"_restoreFromCollapsed":function(){var self=this;var original=$(this).dialogExtend("_loadSnapshot");$(self).show().dialog("widget").find(".ui-dialog-buttonpane:hidden").show().end().find(".ui-dialog-titlebar").css("white-space",original.titlebar.wrap).end().find(".ui-dialog-content").dialog("option",{"height":original.size.height,"maxHeight":original.size.maxHeight});return self;},"_restoreFromMaximized":function(){var self=this;var original=$(this).dialogExtend("_loadSnapshot");$(self).dialog("widget").css("position",original.position.mode).find(".ui-dialog-titlebar").css("white-space",original.titlebar.wrap).end().find(".ui-dialog-content").dialog("option",{"resizable":original.config.resizable,"draggable":original.config.draggable,"height":original.size.height,"width":original.size.width,"maxHeight":original.size.maxHeight,"position":[original.position.left,original.position.top]}).dialog("widget").draggable("option","handle",$(this).find(".ui-dialog-draggable-handle")).find(".ui-dialog-draggable-handle").css("cursor","move");return self;},"_restoreFromMinimized":function(){var self=this;var original=$(this).dialogExtend("_loadSnapshot");var container="#minimized-dialog-container";$(self).dialog("widget").appendTo("body").css({"float":"none","margin":0,"position":original.position.mode}).find(".ui-dialog-content").show().dialog("widget").find(".ui-dialog-buttonpane:hidden").show().end().find(".ui-dialog-titlebar").css("white-space",original.titlebar.wrap).end().find(".ui-dialog-content").dialog("option",{"resizable":original.config.resizable,"draggable":original.config.draggable,"height":original.size.height,"width":original.size.width,"maxHeight":original.size.maxHeight,"position":[original.position.left,original.position.top]}).dialog("widget").draggable("option","handle",$(this).find(".ui-dialog-draggable-handle")).find(".ui-dialog-draggable-handle").css("cursor","move");return self;},"_saveSnapshot":function(){var self=this;if($(self).data("dialog-state")=="normal"){$(self).data("original-config-resizable",$(self).dialog("option","resizable")).data("original-config-draggable",$(self).dialog("option","draggable")).data("original-size-height",$(self).dialog("widget").height()).data("original-size-width",$(self).dialog("option","width")).data("original-size-maxHeight",$(self).dialog("option","maxHeight")).data("original-position-mode",$(self).dialog("widget").css("position")).data("original-position-left",$(self).dialog("widget").offset().left).data("original-position-top",$(self).dialog("widget").offset().top).data("original-titlebar-wrap",$(self).dialog("widget").find(".ui-dialog-titlebar").css("white-space"));}
return self;},"_toggleButtons":function(){var self=this;$(self).dialog("widget").find(".ui-dialog-titlebar-maximize").toggle().end().find(".ui-dialog-titlebar-minimize").hide().end().find(".ui-dialog-titlebar-restore").toggle().css({"right":$(self).data("dialog-state")=="maximized"?"1.4em":$(self).data("dialog-state")=="minimized"?!settings.maximize?"1.4em":"2.5em":"-9999em"}).end();return self;},"_trigger":function(type){var self=this;$(self).triggerHandler(type+".dialogExtend",this);return self;},"_verifySettings":function(){var self=this;if(!settings.dblclick){}else if(settings.dblclick=="maximize"){}else if(settings.dblclick=="minimize"){}else if(settings.dblclick=="collapse"){}else{$.error("jQuery.dialogExtend Error : Invalid <dblclick> value '"+settings.dblclick+"'");settings.dblclick=false;}
if(!settings.titlebar){}else if(settings.titlebar=="none"){}else if(settings.titlebar=="transparent"){}else{$.error("jQuery.dialogExtend Error : Invalid <titlebar> value '"+settings.titlebar+"'");settings.titlebar=false;}
return self;}};$.fn.dialogExtend=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1));}else if(typeof method==="object"||!method){return methods.init.apply(this,arguments);}else{$.error("jQuery.dialogExtend Error : Method <"+method+"> does not exist");}};}(jQuery));

/*-----encoder.js----*/

var Encoder={EncodeType:"entity",isEmpty:function(val){if(val){return((val===null)||val.length==0||/^\s+$/.test(val));}else{return true;}},HTML2Numerical:function(s){var arr1=new Array('&nbsp;','&iexcl;','&cent;','&pound;','&curren;','&yen;','&brvbar;','&sect;','&uml;','&copy;','&ordf;','&laquo;','&not;','&shy;','&reg;','&macr;','&deg;','&plusmn;','&sup2;','&sup3;','&acute;','&micro;','&para;','&middot;','&cedil;','&sup1;','&ordm;','&raquo;','&frac14;','&frac12;','&frac34;','&iquest;','&agrave;','&aacute;','&acirc;','&atilde;','&Auml;','&aring;','&aelig;','&ccedil;','&egrave;','&eacute;','&ecirc;','&euml;','&igrave;','&iacute;','&icirc;','&iuml;','&eth;','&ntilde;','&ograve;','&oacute;','&ocirc;','&otilde;','&Ouml;','&times;','&oslash;','&ugrave;','&uacute;','&ucirc;','&Uuml;','&yacute;','&thorn;','&szlig;','&agrave;','&aacute;','&acirc;','&atilde;','&auml;','&aring;','&aelig;','&ccedil;','&egrave;','&eacute;','&ecirc;','&euml;','&igrave;','&iacute;','&icirc;','&iuml;','&eth;','&ntilde;','&ograve;','&oacute;','&ocirc;','&otilde;','&ouml;','&divide;','&Oslash;','&ugrave;','&uacute;','&ucirc;','&uuml;','&yacute;','&thorn;','&yuml;','&quot;','&amp;','&lt;','&gt;','&oelig;','&oelig;','&scaron;','&scaron;','&yuml;','&circ;','&tilde;','&ensp;','&emsp;','&thinsp;','&zwnj;','&zwj;','&lrm;','&rlm;','&ndash;','&mdash;','&lsquo;','&rsquo;','&sbquo;','&ldquo;','&rdquo;','&bdquo;','&dagger;','&dagger;','&permil;','&lsaquo;','&rsaquo;','&euro;','&fnof;','&alpha;','&beta;','&gamma;','&delta;','&epsilon;','&zeta;','&eta;','&theta;','&iota;','&kappa;','&lambda;','&mu;','&nu;','&xi;','&omicron;','&pi;','&rho;','&sigma;','&tau;','&upsilon;','&phi;','&chi;','&psi;','&omega;','&alpha;','&beta;','&gamma;','&delta;','&epsilon;','&zeta;','&eta;','&theta;','&iota;','&kappa;','&lambda;','&mu;','&nu;','&xi;','&omicron;','&pi;','&rho;','&sigmaf;','&sigma;','&tau;','&upsilon;','&phi;','&chi;','&psi;','&omega;','&thetasym;','&upsih;','&piv;','&bull;','&hellip;','&prime;','&prime;','&oline;','&frasl;','&weierp;','&image;','&real;','&trade;','&alefsym;','&larr;','&uarr;','&rarr;','&darr;','&harr;','&crarr;','&larr;','&uarr;','&rarr;','&darr;','&harr;','&forall;','&part;','&exist;','&empty;','&nabla;','&isin;','&notin;','&ni;','&prod;','&sum;','&minus;','&lowast;','&radic;','&prop;','&infin;','&ang;','&and;','&or;','&cap;','&cup;','&int;','&there4;','&sim;','&cong;','&asymp;','&ne;','&equiv;','&le;','&ge;','&sub;','&sup;','&nsub;','&sube;','&supe;','&oplus;','&otimes;','&perp;','&sdot;','&lceil;','&rceil;','&lfloor;','&rfloor;','&lang;','&rang;','&loz;','&spades;','&clubs;','&hearts;','&diams;');var arr2=new Array('&#160;','&#161;','&#162;','&#163;','&#164;','&#165;','&#166;','&#167;','&#168;','&#169;','&#170;','&#171;','&#172;','&#173;','&#174;','&#175;','&#176;','&#177;','&#178;','&#179;','&#180;','&#181;','&#182;','&#183;','&#184;','&#185;','&#186;','&#187;','&#188;','&#189;','&#190;','&#191;','&#192;','&#193;','&#194;','&#195;','&#196;','&#197;','&#198;','&#199;','&#200;','&#201;','&#202;','&#203;','&#204;','&#205;','&#206;','&#207;','&#208;','&#209;','&#210;','&#211;','&#212;','&#213;','&#214;','&#215;','&#216;','&#217;','&#218;','&#219;','&#220;','&#221;','&#222;','&#223;','&#224;','&#225;','&#226;','&#227;','&#228;','&#229;','&#230;','&#231;','&#232;','&#233;','&#234;','&#235;','&#236;','&#237;','&#238;','&#239;','&#240;','&#241;','&#242;','&#243;','&#244;','&#245;','&#246;','&#247;','&#248;','&#249;','&#250;','&#251;','&#252;','&#253;','&#254;','&#255;','&#34;','&#38;','&#60;','&#62;','&#338;','&#339;','&#352;','&#353;','&#376;','&#710;','&#732;','&#8194;','&#8195;','&#8201;','&#8204;','&#8205;','&#8206;','&#8207;','&#8211;','&#8212;','&#8216;','&#8217;','&#8218;','&#8220;','&#8221;','&#8222;','&#8224;','&#8225;','&#8240;','&#8249;','&#8250;','&#8364;','&#402;','&#913;','&#914;','&#915;','&#916;','&#917;','&#918;','&#919;','&#920;','&#921;','&#922;','&#923;','&#924;','&#925;','&#926;','&#927;','&#928;','&#929;','&#931;','&#932;','&#933;','&#934;','&#935;','&#936;','&#937;','&#945;','&#946;','&#947;','&#948;','&#949;','&#950;','&#951;','&#952;','&#953;','&#954;','&#955;','&#956;','&#957;','&#958;','&#959;','&#960;','&#961;','&#962;','&#963;','&#964;','&#965;','&#966;','&#967;','&#968;','&#969;','&#977;','&#978;','&#982;','&#8226;','&#8230;','&#8242;','&#8243;','&#8254;','&#8260;','&#8472;','&#8465;','&#8476;','&#8482;','&#8501;','&#8592;','&#8593;','&#8594;','&#8595;','&#8596;','&#8629;','&#8656;','&#8657;','&#8658;','&#8659;','&#8660;','&#8704;','&#8706;','&#8707;','&#8709;','&#8711;','&#8712;','&#8713;','&#8715;','&#8719;','&#8721;','&#8722;','&#8727;','&#8730;','&#8733;','&#8734;','&#8736;','&#8743;','&#8744;','&#8745;','&#8746;','&#8747;','&#8756;','&#8764;','&#8773;','&#8776;','&#8800;','&#8801;','&#8804;','&#8805;','&#8834;','&#8835;','&#8836;','&#8838;','&#8839;','&#8853;','&#8855;','&#8869;','&#8901;','&#8968;','&#8969;','&#8970;','&#8971;','&#9001;','&#9002;','&#9674;','&#9824;','&#9827;','&#9829;','&#9830;');return this.swapArrayVals(s,arr1,arr2);},NumericalToHTML:function(s){var arr1=new Array('&#160;','&#161;','&#162;','&#163;','&#164;','&#165;','&#166;','&#167;','&#168;','&#169;','&#170;','&#171;','&#172;','&#173;','&#174;','&#175;','&#176;','&#177;','&#178;','&#179;','&#180;','&#181;','&#182;','&#183;','&#184;','&#185;','&#186;','&#187;','&#188;','&#189;','&#190;','&#191;','&#192;','&#193;','&#194;','&#195;','&#196;','&#197;','&#198;','&#199;','&#200;','&#201;','&#202;','&#203;','&#204;','&#205;','&#206;','&#207;','&#208;','&#209;','&#210;','&#211;','&#212;','&#213;','&#214;','&#215;','&#216;','&#217;','&#218;','&#219;','&#220;','&#221;','&#222;','&#223;','&#224;','&#225;','&#226;','&#227;','&#228;','&#229;','&#230;','&#231;','&#232;','&#233;','&#234;','&#235;','&#236;','&#237;','&#238;','&#239;','&#240;','&#241;','&#242;','&#243;','&#244;','&#245;','&#246;','&#247;','&#248;','&#249;','&#250;','&#251;','&#252;','&#253;','&#254;','&#255;','&#34;','&#38;','&#60;','&#62;','&#338;','&#339;','&#352;','&#353;','&#376;','&#710;','&#732;','&#8194;','&#8195;','&#8201;','&#8204;','&#8205;','&#8206;','&#8207;','&#8211;','&#8212;','&#8216;','&#8217;','&#8218;','&#8220;','&#8221;','&#8222;','&#8224;','&#8225;','&#8240;','&#8249;','&#8250;','&#8364;','&#402;','&#913;','&#914;','&#915;','&#916;','&#917;','&#918;','&#919;','&#920;','&#921;','&#922;','&#923;','&#924;','&#925;','&#926;','&#927;','&#928;','&#929;','&#931;','&#932;','&#933;','&#934;','&#935;','&#936;','&#937;','&#945;','&#946;','&#947;','&#948;','&#949;','&#950;','&#951;','&#952;','&#953;','&#954;','&#955;','&#956;','&#957;','&#958;','&#959;','&#960;','&#961;','&#962;','&#963;','&#964;','&#965;','&#966;','&#967;','&#968;','&#969;','&#977;','&#978;','&#982;','&#8226;','&#8230;','&#8242;','&#8243;','&#8254;','&#8260;','&#8472;','&#8465;','&#8476;','&#8482;','&#8501;','&#8592;','&#8593;','&#8594;','&#8595;','&#8596;','&#8629;','&#8656;','&#8657;','&#8658;','&#8659;','&#8660;','&#8704;','&#8706;','&#8707;','&#8709;','&#8711;','&#8712;','&#8713;','&#8715;','&#8719;','&#8721;','&#8722;','&#8727;','&#8730;','&#8733;','&#8734;','&#8736;','&#8743;','&#8744;','&#8745;','&#8746;','&#8747;','&#8756;','&#8764;','&#8773;','&#8776;','&#8800;','&#8801;','&#8804;','&#8805;','&#8834;','&#8835;','&#8836;','&#8838;','&#8839;','&#8853;','&#8855;','&#8869;','&#8901;','&#8968;','&#8969;','&#8970;','&#8971;','&#9001;','&#9002;','&#9674;','&#9824;','&#9827;','&#9829;','&#9830;');var arr2=new Array('&nbsp;','&iexcl;','&cent;','&pound;','&curren;','&yen;','&brvbar;','&sect;','&uml;','&copy;','&ordf;','&laquo;','&not;','&shy;','&reg;','&macr;','&deg;','&plusmn;','&sup2;','&sup3;','&acute;','&micro;','&para;','&middot;','&cedil;','&sup1;','&ordm;','&raquo;','&frac14;','&frac12;','&frac34;','&iquest;','&agrave;','&aacute;','&acirc;','&atilde;','&Auml;','&aring;','&aelig;','&ccedil;','&egrave;','&eacute;','&ecirc;','&euml;','&igrave;','&iacute;','&icirc;','&iuml;','&eth;','&ntilde;','&ograve;','&oacute;','&ocirc;','&otilde;','&Ouml;','&times;','&oslash;','&ugrave;','&uacute;','&ucirc;','&Uuml;','&yacute;','&thorn;','&szlig;','&agrave;','&aacute;','&acirc;','&atilde;','&auml;','&aring;','&aelig;','&ccedil;','&egrave;','&eacute;','&ecirc;','&euml;','&igrave;','&iacute;','&icirc;','&iuml;','&eth;','&ntilde;','&ograve;','&oacute;','&ocirc;','&otilde;','&ouml;','&divide;','&Oslash;','&ugrave;','&uacute;','&ucirc;','&uuml;','&yacute;','&thorn;','&yuml;','&quot;','&amp;','&lt;','&gt;','&oelig;','&oelig;','&scaron;','&scaron;','&yuml;','&circ;','&tilde;','&ensp;','&emsp;','&thinsp;','&zwnj;','&zwj;','&lrm;','&rlm;','&ndash;','&mdash;','&lsquo;','&rsquo;','&sbquo;','&ldquo;','&rdquo;','&bdquo;','&dagger;','&dagger;','&permil;','&lsaquo;','&rsaquo;','&euro;','&fnof;','&alpha;','&beta;','&gamma;','&delta;','&epsilon;','&zeta;','&eta;','&theta;','&iota;','&kappa;','&lambda;','&mu;','&nu;','&xi;','&omicron;','&pi;','&rho;','&sigma;','&tau;','&upsilon;','&phi;','&chi;','&psi;','&omega;','&alpha;','&beta;','&gamma;','&delta;','&epsilon;','&zeta;','&eta;','&theta;','&iota;','&kappa;','&lambda;','&mu;','&nu;','&xi;','&omicron;','&pi;','&rho;','&sigmaf;','&sigma;','&tau;','&upsilon;','&phi;','&chi;','&psi;','&omega;','&thetasym;','&upsih;','&piv;','&bull;','&hellip;','&prime;','&prime;','&oline;','&frasl;','&weierp;','&image;','&real;','&trade;','&alefsym;','&larr;','&uarr;','&rarr;','&darr;','&harr;','&crarr;','&larr;','&uarr;','&rarr;','&darr;','&harr;','&forall;','&part;','&exist;','&empty;','&nabla;','&isin;','&notin;','&ni;','&prod;','&sum;','&minus;','&lowast;','&radic;','&prop;','&infin;','&ang;','&and;','&or;','&cap;','&cup;','&int;','&there4;','&sim;','&cong;','&asymp;','&ne;','&equiv;','&le;','&ge;','&sub;','&sup;','&nsub;','&sube;','&supe;','&oplus;','&otimes;','&perp;','&sdot;','&lceil;','&rceil;','&lfloor;','&rfloor;','&lang;','&rang;','&loz;','&spades;','&clubs;','&hearts;','&diams;');return this.swapArrayVals(s,arr1,arr2);},numEncode:function(s){if(this.isEmpty(s))return"";var e="";for(var i=0;i<s.length;i++){var c=s.charAt(i);if(c<" "||c>"~"){c="&#"+c.charCodeAt()+";";}
e+=c;}
return e;},htmlDecode:function(s){var c,m,d=s;if(this.isEmpty(d))return"";d=this.HTML2Numerical(d);arr=d.match(/&#[0-9]{1,5};/g);if(arr!=null){for(var x=0;x<arr.length;x++){m=arr[x];c=m.substring(2,m.length-1);if(c>=-32768&&c<=65535){d=d.replace(m,String.fromCharCode(c));}else{d=d.replace(m,"");}}}
return d;},htmlEncode:function(s,dbl){if(this.isEmpty(s))return"";dbl=dbl|false;if(dbl){if(this.EncodeType=="numerical"){s=s.replace(/&/g,"&#38;");}else{s=s.replace(/&/g,"&amp;");}}
s=this.XSSEncode(s,false);if(this.EncodeType=="numerical"||!dbl){s=this.HTML2Numerical(s);}
s=this.numEncode(s);if(!dbl){s=s.replace(/&#/g,"##AMPHASH##");if(this.EncodeType=="numerical"){s=s.replace(/&/g,"&#38;");}else{s=s.replace(/&/g,"&amp;");}
s=s.replace(/##AMPHASH##/g,"&#");}
s=s.replace(/&#\d*([^\d;]|$)/g,"$1");if(!dbl){s=this.correctEncoding(s);}
if(this.EncodeType=="entity"){s=this.NumericalToHTML(s);}
return s;},XSSEncode:function(s,en){if(!this.isEmpty(s)){en=en||true;if(en){s=s.replace(/\'/g,"&#39;");s=s.replace(/\"/g,"&quot;");s=s.replace(/</g,"&lt;");s=s.replace(/>/g,"&gt;");}else{s=s.replace(/\'/g,"&#39;");s=s.replace(/\"/g,"&#34;");s=s.replace(/</g,"&#60;");s=s.replace(/>/g,"&#62;");}
return s;}else{return"";}},hasEncoded:function(s){if(/&#[0-9]{1,5};/g.test(s)){return true;}else if(/&[A-Z]{2,6};/gi.test(s)){return true;}else{return false;}},stripUnicode:function(s){return s.replace(/[^\x20-\x7E]/g,"");},correctEncoding:function(s){return s.replace(/(&amp;)(amp;)+/,"$1");},swapArrayVals:function(s,arr1,arr2){if(this.isEmpty(s))return"";var re;if(arr1&&arr2){if(arr1.length==arr2.length){for(var x=0,i=arr1.length;x<i;x++){re=new RegExp(arr1[x],'g');s=s.replace(re,arr2[x]);}}}
return s;},inArray:function(item,arr){for(var i=0,x=arr.length;i<x;i++){if(arr[i]===item){return i;}}
return-1;}};

/*-----Session.js----*/

(function($){var sessionData={};var windowName="";var domain=location.href.match(/\w+:\/\/[^\/]+/)[0];var referrer=(document.referrer)?document.referrer.match(/\w+:\/\/[^\/]+/)[0]:"";if(referrer==""||referrer!==domain){window.name=window.name.replace("#"+domain+"#","");}
function loadData(){stored=window.name.split("#"+domain+"#");windowName=window.name=stored[0];if(data=stored[1]){$.each(data.split(";"),function(i,data){parts=data.split("=");varName=parts[0];varValue=unescape(parts[1]);sessionData[varName]=varValue;});}}
function saveData(){var dataToStore=windowName+"#"+domain+"#";$.each(sessionData,function(varName,varValue){if(varName&&varValue){dataToStore+=(varName+"="+escape(varValue)+";");}});window.name=dataToStore;}
$.session=function(name,value){if(value){if($.isFunction(value)){value=value();}
if($.toJSON){sessionData[name]=$.toJSON(value);}else{sessionData[name]=value;}}else{if($.evalJSON){return $.evalJSON(sessionData[name]);}else{return sessionData[name];}}}
$.sessionStop=function(){saveData();}
$.sessionStart=function(){loadData();}
$.sessionStart();window.onunload=function(){$.sessionStop();};})(jQuery);

/*-----jquery.currencies.js----*/

if(typeof Currency==='undefined'){var Currency={};}
var Currency={rates:{},convert:function(amount,from,to){return(amount*Currency.rates[to])/Currency.rates[from];}};getRate=function(){if(currencyRate!=undefined){var rate=$.parseJSON(currencyRate);$.each(rate,function(index,item){Currency.rates[item.CurrencyCode]=item.CurrencyRate;});}}();Currency.cookie={configuration:{expires:1,path:'/',domain:window.location.hostname},name:'currency'+storeID+'_'+portalID,write:function(currency){this.destroy();var d=new Date();d.setTime(d.getTime()+(this.configuration.expires*24*60*60*1000));var expires="expires="+d.toGMTString();var domain="domain="+this.configuration.domain;var path="path="+this.configuration.path;document.cookie=this.name+"="+currency+"; "+expires+";"+path;},read:function(){var name=this.name+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i].trim();if(c.indexOf(name)==0)return c.substring(name.length,c.length);}
return"";},destroy:function(){document.cookie=this.name+'=; expires=Thu, 01 Jan 1970 00:00:01 GMT;';}};Currency.money_with_currency_format={"USD":"${{amount}} USD","EUR":"&euro;{{amount}} EUR","GBP":"&pound;{{amount}} GBP","CAD":"${{amount}} CAD","ARS":"${{amount_with_comma_separator}} ARS","AUD":"${{amount}} AUD","BBD":"${{amount}} Bds","BDT":"Tk {{amount}} BDT","BSD":"BS${{amount}} BSD","BHD":"{{amount}}0 BHD","BRL":"R$ {{amount_with_comma_separator}} BRL","BOB":"Bs{{amount_with_comma_separator}} BOB","BND":"${{amount}} BND","BGN":"{{amount}} лв BGN","MMK":"K{{amount}} MMK","KYD":"${{amount}} KYD","CLP":"${{amount_no_decimals}} CLP","CNY":"￥{{amount}} CNY","COP":"${{amount_with_comma_separator}} COP","CRC":"&#8353; {{amount_with_comma_separator}} CRC","HRK":"{{amount_with_comma_separator}} kn HRK","CZK":"{{amount_with_comma_separator}} K&#269;","DKK":"kr.{{amount_with_comma_separator}}","DOP":"RD$ {{amount_with_comma_separator}}","XCD":"EC${{amount}}","EGP":"LE {{amount}} EGP","XPF":"{{amount_no_decimals_with_comma_separator}} XPF","FJD":"FJ${{amount}}","GHS":"GH&#8373;{{amount}}","GTQ":"{{amount}} GTQ","GYD":"${{amount}} GYD","GEL":"{{amount}} GEL","HKD":"HK${{amount}}","HUF":"{{amount_no_decimals_with_comma_separator}} Ft","ISK":"{{amount_no_decimals}} kr ISK","INR":"INR{{amount}}","IDR":"Rp {{amount_with_comma_separator}}","IRR":"ريال{{amount}}","NIS":"{{amount}} NIS","NPR":"रू{{amount}}","JMD":"${{amount}} JMD","JPY":"&#165;{{amount_no_decimals}} JPY","JOD":"{{amount}}0 JOD","KZT":"{{amount}} KZT","KES":"KSh{{amount}}","KWD":"{{amount}}0 KWD","LVL":"Ls {{amount}} LVL","LTL":"{{amount}} Lt","MXN":"$ {{amount}} MXN","MYR":"RM{{amount}} MYR","MUR":"Rs {{amount}} MUR","MDL":"{{amount}} MDL","MAD":"Dh {{amount}} MAD","MNT":"{{amount_no_decimals}} MNT","MZN":"Mt {{amount}} MZN","ANG":"{{amount}} NA&fnof;","NZD":"${{amount}} NZD","NGN":"&#8358;{{amount}} NGN","NOK":"kr {{amount_with_comma_separator}} NOK","OMR":"{{amount_with_comma_separator}} OMR","PKR":"Rs.{{amount}} PKR","PYG":"Gs. {{amount_no_decimals_with_comma_separator}} PYG","PEN":"S/. {{amount}} PEN","PHP":"&#8369;{{amount}} PHP","PLN":"{{amount_with_comma_separator}} zl PLN","QAR":"QAR {{amount_with_comma_separator}}","RON":"{{amount_with_comma_separator}} lei RON","RUB":"&#1088;&#1091;&#1073;{{amount_with_comma_separator}} RUB","SAR":"{{amount}} SAR","RSD":"{{amount}} RSD","SCR":"Rs {{amount}} SCR","SGD":"${{amount}} SGD","SYP":"S&pound;{{amount}} SYP","ZAR":"R {{amount}} ZAR","KRW":"&#8361;{{amount_no_decimals}} KRW","LKR":"Rs {{amount}} LKR","SEK":"{{amount_no_decimals}} kr SEK","CHF":"SFr. {{amount}} CHF","TWD":"${{amount}} TWD","THB":"{{amount}} &#xe3f; THB","TZS":"{{amount}} TZS","TTD":"${{amount}} TTD","TRY":"{{amount}}TL","UAH":"₴{{amount}} UAH","AED":"Dhs. {{amount}} AED","UYU":"${{amount_with_comma_separator}} UYU","VEB":"Bs. {{amount_with_comma_separator}} VEB","VND":"{{amount_no_decimals_with_comma_separator}} VND","ZMK":"ZMK{{amount_no_decimals_with_comma_separator}}","XBT":"{{amount_no_decimals}} BTC"};Currency.money_format={"USD":"${{amount}}","EUR":"&euro;{{amount}}","GBP":"&pound;{{amount}}","CAD":"${{amount}}","ARS":"${{amount_with_comma_separator}}","AUD":"${{amount}}","BBD":"${{amount}}","BDT":"Tk {{amount}}","BSD":"BS${{amount}}","BHD":"{{amount}}0 BHD","BRL":"R$ {{amount_with_comma_separator}}","BOB":"Bs{{amount_with_comma_separator}}","BND":"${{amount}}","BGN":"{{amount}} лв","MMK":"K{{amount}}","KYD":"${{amount}}","CLP":"${{amount_no_decimals}}","CNY":"￥{{amount}}","COP":"${{amount_with_comma_separator}}","CRC":"&#8353; {{amount_with_comma_separator}}","HRK":"{{amount_with_comma_separator}} kn","CZK":"{{amount_with_comma_separator}} K&#269;","DKK":"{{amount_with_comma_separator}}","DOP":"RD$ {{amount_with_comma_separator}}","XCD":"${{amount}}","EGP":"LE {{amount}}","XPF":"{{amount_no_decimals_with_comma_separator}} XPF","FJD":"${{amount}}","GHS":"GH&#8373;{{amount}}","GTQ":"{{amount}}","GYD":"${{amount}}","GEL":"{{amount}} GEL","HKD":"${{amount}}","HUF":"{{amount_no_decimals_with_comma_separator}}","ISK":"{{amount_no_decimals}} kr","INR":"INR{{amount}}","IDR":"{{amount_with_comma_separator}}","IRR":"ريال{{amount}}","NIS":"{{amount}} NIS","NPR":"रू{{amount}}","JMD":"${{amount}}","JPY":"&#165;{{amount_no_decimals}}","JOD":"{{amount}}0 JD","KZT":"{{amount}} KZT","KES":"KSh{{amount}}","KWD":"{{amount}}0 KD","LVL":"Ls {{amount}}","LTL":"{{amount}} Lt","MXN":"$ {{amount}}","MYR":"RM{{amount}} MYR","MUR":"Rs {{amount}}","MDL":"{{amount}} MDL","MAD":"{{amount}} dh","MNT":"{{amount_no_decimals}} &#8366","MZN":"{{amount}} Mt","ANG":"&fnof;{{amount}}","NZD":"${{amount}}","NGN":"&#8358;{{amount}}","NOK":"kr {{amount_with_comma_separator}}","OMR":"{{amount_with_comma_separator}} OMR","PKR":"Rs.{{amount}}","PYG":"Gs. {{amount_no_decimals_with_comma_separator}}","PEN":"S/. {{amount}}","PHP":"&#8369;{{amount}}","PLN":"{{amount_with_comma_separator}} zl","QAR":"QAR {{amount_with_comma_separator}}","RON":"{{amount_with_comma_separator}} lei","RUB":"&#1088;&#1091;&#1073;{{amount_with_comma_separator}}","SAR":"{{amount}} SR","RSD":"{{amount}} RSD","SCR":"Rs {{amount}}","SGD":"${{amount}}","SYP":"S&pound;{{amount}}","ZAR":"R {{amount}}","KRW":"&#8361;{{amount_no_decimals}}","LKR":"Rs {{amount}}","SEK":"{{amount_no_decimals}} kr","CHF":"SFr. {{amount}}","TWD":"${{amount}}","THB":"{{amount}} &#xe3f;","TZS":"{{amount}} TZS","TTD":"${{amount}}","TRY":"{{amount}}TL","UAH":"₴{{amount}}","AED":"Dhs. {{amount}}","UYU":"${{amount_with_comma_separator}}","VEB":"Bs. {{amount_with_comma_separator}}","VND":"{{amount_no_decimals_with_comma_separator}}₫","ZMK":"K{{amount_no_decimals_with_comma_separator}}","XBT":"{{amount_no_decimals}} BTC"};Currency.formatMoney=function(cents,format){if(typeof cents=='string')cents=cents.replace('.','');var value='';var patt=/\{\{\s*(\w+)\s*\}\}/;var formatString=(format||this.money_format);function addCommas(moneyString){var parts=moneyString.toString().split(".");parts[0]=parts[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");return parts.join(".");}
switch(formatString.match(patt)[1]){case'amount':value=addCommas(floatToString(cents/100.0,2));break;case'amount_no_decimals':value=addCommas(floatToString(cents/100.0,0));break;case'amount_with_comma_separator':value=floatToString(cents/100.0,2).replace(/\./,',');break;case'amount_no_decimals_with_comma_separator':value=addCommas(floatToString(cents/100.0,0)).replace(/\./,',');break;}
return formatString.replace(patt,value);};function floatToString(numeric,decimals){var amount=numeric.toFixed(decimals).toString();if(amount.match(/^\.\d+/)){return"0"+amount;}
else{return amount;}};Currency.currentCurrency='';Currency.format='money_format';Currency.convertAll=function(oldCurrency,newCurrency,selector,format){jQuery(selector||'.cssClassFormatCurrency').each(function(){jQuery(this).removeAttr('data-currency-'+newCurrency+'');if(jQuery(this).attr('data-currency')===newCurrency)return;if(jQuery(this).attr('data-currency-'+newCurrency)){if(jQuery(this).is("input")){if(jQuery(this).attr("bc")==undefined){value=parseInt(jQuery(this).val().replace(/[^0-9]/g,''),10).toFixed(2);jQuery(this).attr("bc",jQuery(this).val());}
jQuery(this).val(Encoder.htmlDecode(jQuery(this).attr('data-currency-'+newCurrency)));}
else{if(jQuery(this).attr("bc")==undefined){value=parseInt(jQuery(this).html().replace(/[^0-9]/g,''),10).toFixed(2);jQuery(this).attr("bc",jQuery(this).html());}
jQuery(this).html(jQuery(this).attr('data-currency-'+newCurrency));}}
else{var cents=0.0;var oldFormat=Currency[format||Currency.format][oldCurrency]||'{{amount}}';var newFormat=Currency[format||Currency.format][newCurrency]||'{{amount}}';var value;if(jQuery(this).is("input")){if(jQuery(this).attr("bc")==undefined){value=parseInt(jQuery(this).val().replace(/[^0-9]/g,''),10).toFixed(2);jQuery(this).attr("bc",jQuery(this).val());}else{value=parseInt(jQuery(this).attr('bc').replace(/[^0-9]/g,''),10).toFixed(2);}}
else{if(jQuery(this).attr("bc")==undefined){value=parseInt(jQuery(this).html().replace(/[^0-9]/g,''),10).toFixed(2);jQuery(this).attr("bc",jQuery(this).html());}else{value=parseInt(jQuery(this).attr('bc').replace(/[^0-9]/g,''),10).toFixed(2)}}
if(oldFormat.indexOf('amount_no_decimals')!==-1){cents=Currency.convert(value*100,oldCurrency,newCurrency);}
else if(oldCurrency==='JOD'||oldCurrency=='KWD'||oldCurrency=='BHD'){cents=Currency.convert(value/10,oldCurrency,newCurrency);}
else{cents=Currency.convert(value,oldCurrency,newCurrency);}
var newFormattedAmount=Currency.formatMoney(cents,newFormat);if(jQuery(this).is("input")){jQuery(this).prop('value',Encoder.htmlDecode(newFormattedAmount));}
else{jQuery(this).html(newFormattedAmount);}
jQuery(this).attr('data-currency-'+newCurrency,newFormattedAmount);}
jQuery(this).attr('data-currency',newCurrency);});this.currentCurrency=newCurrency;this.cookie.write(newCurrency);};

/*-----jquery.masonry.js----*/

(function(window){'use strict';var prefixes='Webkit Moz ms Ms O'.split(' ');var docElemStyle=document.documentElement.style;function getStyleProperty(propName){if(!propName){return;}
if(typeof docElemStyle[propName]==='string'){return propName;}
propName=propName.charAt(0).toUpperCase()+propName.slice(1);var prefixed;for(var i=0,len=prefixes.length;i<len;i++){prefixed=prefixes[i]+propName;if(typeof docElemStyle[prefixed]==='string'){return prefixed;}}}
if(typeof define==='function'&&define.amd){define(function(){return getStyleProperty;});}else{window.getStyleProperty=getStyleProperty;}})(window);(function(window,undefined){'use strict';var defView=document.defaultView;var getStyle=defView&&defView.getComputedStyle?function(elem){return defView.getComputedStyle(elem,null);}:function(elem){return elem.currentStyle;};function getStyleSize(value){var num=parseFloat(value);var isValid=value.indexOf('%')===-1&&!isNaN(num);return isValid&&num;}
var measurements=['paddingLeft','paddingRight','paddingTop','paddingBottom','marginLeft','marginRight','marginTop','marginBottom','borderLeftWidth','borderRightWidth','borderTopWidth','borderBottomWidth'];function getZeroSize(){var size={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(var i=0,len=measurements.length;i<len;i++){var measurement=measurements[i];size[measurement]=0;}
return size;}
function defineGetSize(getStyleProperty){var boxSizingProp=getStyleProperty('boxSizing');var isBoxSizeOuter;(function(){if(!boxSizingProp){return;}
var div=document.createElement('div');div.style.width='200px';div.style.padding='1px 2px 3px 4px';div.style.borderStyle='solid';div.style.borderWidth='1px 2px 3px 4px';div.style[boxSizingProp]='border-box';var body=document.body||document.documentElement;body.appendChild(div);var style=getStyle(div);isBoxSizeOuter=getStyleSize(style.width)===200;body.removeChild(div);})();function getSize(elem){if(typeof elem==='string'){elem=document.querySelector(elem);}
if(!elem||typeof elem!=='object'||!elem.nodeType){return;}
var style=getStyle(elem);if(style.display==='none'){return getZeroSize();}
var size={};size.width=elem.offsetWidth;size.height=elem.offsetHeight;var isBorderBox=size.isBorderBox=!!(boxSizingProp&&style[boxSizingProp]&&style[boxSizingProp]==='border-box');for(var i=0,len=measurements.length;i<len;i++){var measurement=measurements[i];var value=style[measurement];var num=parseFloat(value);size[measurement]=!isNaN(num)?num:0;}
var paddingWidth=size.paddingLeft+size.paddingRight;var paddingHeight=size.paddingTop+size.paddingBottom;var marginWidth=size.marginLeft+size.marginRight;var marginHeight=size.marginTop+size.marginBottom;var borderWidth=size.borderLeftWidth+size.borderRightWidth;var borderHeight=size.borderTopWidth+size.borderBottomWidth;var isBorderBoxSizeOuter=isBorderBox&&isBoxSizeOuter;var styleWidth=getStyleSize(style.width);if(styleWidth!==false){size.width=styleWidth+
(isBorderBoxSizeOuter?0:paddingWidth+borderWidth);}
var styleHeight=getStyleSize(style.height);if(styleHeight!==false){size.height=styleHeight+
(isBorderBoxSizeOuter?0:paddingHeight+borderHeight);}
size.innerWidth=size.width-(paddingWidth+borderWidth);size.innerHeight=size.height-(paddingHeight+borderHeight);size.outerWidth=size.width+marginWidth;size.outerHeight=size.height+marginHeight;return size;}
return getSize;}
if(typeof define==='function'&&define.amd){define(['get-style-property/get-style-property'],defineGetSize);}else{window.getSize=defineGetSize(window.getStyleProperty);}})(window);(function(window){'use strict';var docElem=document.documentElement;var bind=function(){};if(docElem.addEventListener){bind=function(obj,type,fn){obj.addEventListener(type,fn,false);};}else if(docElem.attachEvent){bind=function(obj,type,fn){obj[type+fn]=fn.handleEvent?function(){var event=window.event;event.target=event.target||event.srcElement;fn.handleEvent.call(fn,event);}:function(){var event=window.event;event.target=event.target||event.srcElement;fn.call(obj,event);};obj.attachEvent("on"+type,obj[type+fn]);};}
var unbind=function(){};if(docElem.removeEventListener){unbind=function(obj,type,fn){obj.removeEventListener(type,fn,false);};}else if(docElem.detachEvent){unbind=function(obj,type,fn){obj.detachEvent("on"+type,obj[type+fn]);try{delete obj[type+fn];}catch(err){obj[type+fn]=undefined;}};}
var eventie={bind:bind,unbind:unbind};if(typeof define==='function'&&define.amd){define(eventie);}else{window.eventie=eventie;}})(this);(function(window){'use strict';var document=window.document;var queue=[];function docReady(fn){if(typeof fn!=='function'){return;}
if(docReady.isReady){fn();}else{queue.push(fn);}}
docReady.isReady=false;function init(event){var isIE8NotReady=event.type==='readystatechange'&&document.readyState!=='complete';if(docReady.isReady||isIE8NotReady){return;}
docReady.isReady=true;for(var i=0,len=queue.length;i<len;i++){var fn=queue[i];fn();}}
function defineDocReady(eventie){eventie.bind(document,'DOMContentLoaded',init);eventie.bind(document,'readystatechange',init);eventie.bind(window,'load',init);return docReady;}
if(typeof define==='function'&&define.amd){docReady.isReady=typeof requirejs==='function';define(['eventie/eventie'],defineDocReady);}else{window.docReady=defineDocReady(window.eventie);}})(this);(function(){'use strict';function EventEmitter(){}
var proto=EventEmitter.prototype;function indexOfListener(listeners,listener){var i=listeners.length;while(i--){if(listeners[i].listener===listener){return i;}}
return-1;}
function alias(name){return function aliasClosure(){return this[name].apply(this,arguments);};}
proto.getListeners=function getListeners(evt){var events=this._getEvents();var response;var key;if(typeof evt==='object'){response={};for(key in events){if(events.hasOwnProperty(key)&&evt.test(key)){response[key]=events[key];}}}
else{response=events[evt]||(events[evt]=[]);}
return response;};proto.flattenListeners=function flattenListeners(listeners){var flatListeners=[];var i;for(i=0;i<listeners.length;i+=1){flatListeners.push(listeners[i].listener);}
return flatListeners;};proto.getListenersAsObject=function getListenersAsObject(evt){var listeners=this.getListeners(evt);var response;if(listeners instanceof Array){response={};response[evt]=listeners;}
return response||listeners;};proto.addListener=function addListener(evt,listener){var listeners=this.getListenersAsObject(evt);var listenerIsWrapped=typeof listener==='object';var key;for(key in listeners){if(listeners.hasOwnProperty(key)&&indexOfListener(listeners[key],listener)===-1){listeners[key].push(listenerIsWrapped?listener:{listener:listener,once:false});}}
return this;};proto.on=alias('addListener');proto.addOnceListener=function addOnceListener(evt,listener){return this.addListener(evt,{listener:listener,once:true});};proto.once=alias('addOnceListener');proto.defineEvent=function defineEvent(evt){this.getListeners(evt);return this;};proto.defineEvents=function defineEvents(evts){for(var i=0;i<evts.length;i+=1){this.defineEvent(evts[i]);}
return this;};proto.removeListener=function removeListener(evt,listener){var listeners=this.getListenersAsObject(evt);var index;var key;for(key in listeners){if(listeners.hasOwnProperty(key)){index=indexOfListener(listeners[key],listener);if(index!==-1){listeners[key].splice(index,1);}}}
return this;};proto.off=alias('removeListener');proto.addListeners=function addListeners(evt,listeners){return this.manipulateListeners(false,evt,listeners);};proto.removeListeners=function removeListeners(evt,listeners){return this.manipulateListeners(true,evt,listeners);};proto.manipulateListeners=function manipulateListeners(remove,evt,listeners){var i;var value;var single=remove?this.removeListener:this.addListener;var multiple=remove?this.removeListeners:this.addListeners;if(typeof evt==='object'&&!(evt instanceof RegExp)){for(i in evt){if(evt.hasOwnProperty(i)&&(value=evt[i])){if(typeof value==='function'){single.call(this,i,value);}
else{multiple.call(this,i,value);}}}}
else{i=listeners.length;while(i--){single.call(this,evt,listeners[i]);}}
return this;};proto.removeEvent=function removeEvent(evt){var type=typeof evt;var events=this._getEvents();var key;if(type==='string'){delete events[evt];}
else if(type==='object'){for(key in events){if(events.hasOwnProperty(key)&&evt.test(key)){delete events[key];}}}
else{delete this._events;}
return this;};proto.emitEvent=function emitEvent(evt,args){var listeners=this.getListenersAsObject(evt);var listener;var i;var key;var response;for(key in listeners){if(listeners.hasOwnProperty(key)){i=listeners[key].length;while(i--){listener=listeners[key][i];if(listener.once===true){this.removeListener(evt,listener.listener);}
response=listener.listener.apply(this,args||[]);if(response===this._getOnceReturnValue()){this.removeListener(evt,listener.listener);}}}}
return this;};proto.trigger=alias('emitEvent');proto.emit=function emit(evt){var args=Array.prototype.slice.call(arguments,1);return this.emitEvent(evt,args);};proto.setOnceReturnValue=function setOnceReturnValue(value){this._onceReturnValue=value;return this;};proto._getOnceReturnValue=function _getOnceReturnValue(){if(this.hasOwnProperty('_onceReturnValue')){return this._onceReturnValue;}
else{return true;}};proto._getEvents=function _getEvents(){return this._events||(this._events={});};if(typeof define==='function'&&define.amd){define(function(){return EventEmitter;});}
else if(typeof module==='object'&&module.exports){module.exports=EventEmitter;}
else{this.EventEmitter=EventEmitter;}}.call(this));(function(window){'use strict';var slice=Array.prototype.slice;function noop(){}
function defineBridget($){if(!$){return;}
function addOptionMethod(PluginClass){if(PluginClass.prototype.option){return;}
PluginClass.prototype.option=function(opts){if(!$.isPlainObject(opts)){return;}
this.options=$.extend(true,this.options,opts);};}
var logError=typeof console==='undefined'?noop:function(message){console.error(message);};function bridge(namespace,PluginClass){$.fn[namespace]=function(options){if(typeof options==='string'){var args=slice.call(arguments,1);for(var i=0,len=this.length;i<len;i++){var elem=this[i];var instance=$.data(elem,namespace);if(!instance){logError("cannot call methods on "+namespace+" prior to initialization; "+"attempted to call '"+options+"'");continue;}
if(!$.isFunction(instance[options])||options.charAt(0)==='_'){logError("no such method '"+options+"' for "+namespace+" instance");continue;}
var returnValue=instance[options].apply(instance,args);if(returnValue!==undefined){return returnValue;}}
return this;}else{return this.each(function(){var instance=$.data(this,namespace);if(instance){instance.option(options);instance._init();}else{instance=new PluginClass(this,options);$.data(this,namespace,instance);}});}};}
$.bridget=function(namespace,PluginClass){addOptionMethod(PluginClass);bridge(namespace,PluginClass);};}
if(typeof define==='function'&&define.amd){define(['jquery'],defineBridget);}else{defineBridget(window.jQuery);}})(window);(function(global,ElemProto){'use strict';var matchesMethod=(function(){if(ElemProto.matchesSelector){return'matchesSelector';}
var prefixes=['webkit','moz','ms','o'];for(var i=0,len=prefixes.length;i<len;i++){var prefix=prefixes[i];var method=prefix+'MatchesSelector';if(ElemProto[method]){return method;}}})();function match(elem,selector){return elem[matchesMethod](selector);}
function checkParent(elem){if(elem.parentNode){return;}
var fragment=document.createDocumentFragment();fragment.appendChild(elem);}
function query(elem,selector){checkParent(elem);var elems=elem.parentNode.querySelectorAll(selector);for(var i=0,len=elems.length;i<len;i++){if(elems[i]===elem){return true;}}
return false;}
function matchChild(elem,selector){checkParent(elem);return match(elem,selector);}
var matchesSelector;if(matchesMethod){var div=document.createElement('div');var supportsOrphans=match(div,'div');matchesSelector=supportsOrphans?match:matchChild;}else{matchesSelector=query;}
if(typeof define==='function'&&define.amd){define(function(){return matchesSelector;});}else{window.matchesSelector=matchesSelector;}})(this,Element.prototype);(function(window){'use strict';var defView=document.defaultView;var getStyle=defView&&defView.getComputedStyle?function(elem){return defView.getComputedStyle(elem,null);}:function(elem){return elem.currentStyle;};function extend(a,b){for(var prop in b){a[prop]=b[prop];}
return a;}
function isEmptyObj(obj){for(var prop in obj){return false;}
prop=null;return true;}
function toDash(str){return str.replace(/([A-Z])/g,function($1){return'-'+$1.toLowerCase();});}
function outlayerItemDefinition(EventEmitter,getSize,getStyleProperty){var transitionProperty=getStyleProperty('transition');var transformProperty=getStyleProperty('transform');var supportsCSS3=transitionProperty&&transformProperty;var is3d=!!getStyleProperty('perspective');var transitionEndEvent={WebkitTransition:'webkitTransitionEnd',MozTransition:'transitionend',OTransition:'otransitionend',transition:'transitionend'}[transitionProperty];var prefixableProperties=['transform','transition','transitionDuration','transitionProperty'];var vendorProperties=(function(){var cache={};for(var i=0,len=prefixableProperties.length;i<len;i++){var prop=prefixableProperties[i];var supportedProp=getStyleProperty(prop);if(supportedProp&&supportedProp!==prop){cache[prop]=supportedProp;}}
return cache;})();function Item(element,layout){if(!element){return;}
this.element=element;this.layout=layout;this.position={x:0,y:0};this._create();}
extend(Item.prototype,EventEmitter.prototype);Item.prototype._create=function(){this._transition={ingProperties:{},clean:{},onEnd:{}};this.css({position:'absolute'});};Item.prototype.handleEvent=function(event){var method='on'+event.type;if(this[method]){this[method](event);}};Item.prototype.getSize=function(){this.size=getSize(this.element);};Item.prototype.css=function(style){var elemStyle=this.element.style;for(var prop in style){var supportedProp=vendorProperties[prop]||prop;elemStyle[supportedProp]=style[prop];}};Item.prototype.getPosition=function(){var style=getStyle(this.element);var layoutOptions=this.layout.options;var isOriginLeft=layoutOptions.isOriginLeft;var isOriginTop=layoutOptions.isOriginTop;var x=parseInt(style[isOriginLeft?'left':'right'],10);var y=parseInt(style[isOriginTop?'top':'bottom'],10);x=isNaN(x)?0:x;y=isNaN(y)?0:y;var layoutSize=this.layout.size;x-=isOriginLeft?layoutSize.paddingLeft:layoutSize.paddingRight;y-=isOriginTop?layoutSize.paddingTop:layoutSize.paddingBottom;this.position.x=x;this.position.y=y;};Item.prototype.layoutPosition=function(){var layoutSize=this.layout.size;var layoutOptions=this.layout.options;var style={};if(layoutOptions.isOriginLeft){style.left=(this.position.x+layoutSize.paddingLeft)+'px';style.right='';}else{style.right=(this.position.x+layoutSize.paddingRight)+'px';style.left='';}
if(layoutOptions.isOriginTop){style.top=(this.position.y+layoutSize.paddingTop)+'px';style.bottom='';}else{style.bottom=(this.position.y+layoutSize.paddingBottom)+'px';style.top='';}
this.css(style);this.emitEvent('layout',[this]);};var translate=is3d?function(x,y){return'translate3d('+x+'px, '+y+'px, 0)';}:function(x,y){return'translate('+x+'px, '+y+'px)';};Item.prototype._transitionTo=function(x,y){this.getPosition();var curX=this.position.x;var curY=this.position.y;var compareX=parseInt(x,10);var compareY=parseInt(y,10);var didNotMove=compareX===this.position.x&&compareY===this.position.y;this.setPosition(x,y);if(didNotMove&&!this.isTransitioning){this.layoutPosition();return;}
var transX=x-curX;var transY=y-curY;var transitionStyle={};var layoutOptions=this.layout.options;transX=layoutOptions.isOriginLeft?transX:-transX;transY=layoutOptions.isOriginTop?transY:-transY;transitionStyle.transform=translate(transX,transY);this.transition({to:transitionStyle,onTransitionEnd:{transform:this.layoutPosition},isCleaning:true});};Item.prototype.goTo=function(x,y){this.setPosition(x,y);this.layoutPosition();};Item.prototype.moveTo=supportsCSS3?Item.prototype._transitionTo:Item.prototype.goTo;Item.prototype.setPosition=function(x,y){this.position.x=parseInt(x,10);this.position.y=parseInt(y,10);};Item.prototype._nonTransition=function(args){this.css(args.to);if(args.isCleaning){this._removeStyles(args.to);}
for(var prop in args.onTransitionEnd){args.onTransitionEnd[prop].call(this);}};Item.prototype._transition=function(args){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(args);return;}
var _transition=this._transition;for(var prop in args.onTransitionEnd){_transition.onEnd[prop]=args.onTransitionEnd[prop];}
for(prop in args.to){_transition.ingProperties[prop]=true;if(args.isCleaning){_transition.clean[prop]=true;}}
if(args.from){this.css(args.from);var h=this.element.offsetHeight;h=null;}
this.enableTransition(args.to);this.css(args.to);this.isTransitioning=true;};var itemTransitionProperties=transformProperty&&(toDash(transformProperty)+',opacity');Item.prototype.enableTransition=function(){if(this.isTransitioning){return;}
this.css({transitionProperty:itemTransitionProperties,transitionDuration:this.layout.options.transitionDuration});this.element.addEventListener(transitionEndEvent,this,false);};Item.prototype.transition=Item.prototype[transitionProperty?'_transition':'_nonTransition'];Item.prototype.onwebkitTransitionEnd=function(event){this.ontransitionend(event);};Item.prototype.onotransitionend=function(event){this.ontransitionend(event);};var dashedVendorProperties={'-webkit-transform':'transform','-moz-transform':'transform','-o-transform':'transform'};Item.prototype.ontransitionend=function(event){if(event.target!==this.element){return;}
var _transition=this._transition;var propertyName=dashedVendorProperties[event.propertyName]||event.propertyName;delete _transition.ingProperties[propertyName];if(isEmptyObj(_transition.ingProperties)){this.disableTransition();}
if(propertyName in _transition.clean){this.element.style[event.propertyName]='';delete _transition.clean[propertyName];}
if(propertyName in _transition.onEnd){var onTransitionEnd=_transition.onEnd[propertyName];onTransitionEnd.call(this);delete _transition.onEnd[propertyName];}
this.emitEvent('transitionEnd',[this]);};Item.prototype.disableTransition=function(){this.removeTransitionStyles();this.element.removeEventListener(transitionEndEvent,this,false);this.isTransitioning=false;};Item.prototype._removeStyles=function(style){var cleanStyle={};for(var prop in style){cleanStyle[prop]='';}
this.css(cleanStyle);};var cleanTransitionStyle={transitionProperty:'',transitionDuration:''};Item.prototype.removeTransitionStyles=function(){this.css(cleanTransitionStyle);};Item.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element);this.emitEvent('remove',[this]);};Item.prototype.remove=function(){if(!transitionProperty||!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return;}
var _this=this;this.on('transitionEnd',function(){_this.removeElem();return true;});this.hide();};Item.prototype.reveal=function(){delete this.isHidden;this.css({display:''});var options=this.layout.options;this.transition({from:options.hiddenStyle,to:options.visibleStyle,isCleaning:true});};Item.prototype.hide=function(){this.isHidden=true;this.css({display:''});var options=this.layout.options;this.transition({from:options.visibleStyle,to:options.hiddenStyle,isCleaning:true,onTransitionEnd:{opacity:function(){this.css({display:'none'});}}});};Item.prototype.destroy=function(){this.css({position:'',left:'',right:'',top:'',bottom:'',transition:'',transform:''});};return Item;}
if(typeof define==='function'&&define.amd){define(['eventEmitter/EventEmitter','get-size/get-size','get-style-property/get-style-property'],outlayerItemDefinition);}else{window.Outlayer={};window.Outlayer.Item=outlayerItemDefinition(window.EventEmitter,window.getSize,window.getStyleProperty);}})(window);(function(window){'use strict';var document=window.document;var console=window.console;var jQuery=window.jQuery;var noop=function(){};function extend(a,b){for(var prop in b){a[prop]=b[prop];}
return a;}
var objToString=Object.prototype.toString;function isArray(obj){return objToString.call(obj)==='[object Array]';}
function makeArray(obj){var ary=[];if(isArray(obj)){ary=obj;}else if(obj&&typeof obj.length==='number'){for(var i=0,len=obj.length;i<len;i++){ary.push(obj[i]);}}else{ary.push(obj);}
return ary;}
var isElement=(typeof HTMLElement==='object')?function isElementDOM2(obj){return obj instanceof HTMLElement;}:function isElementQuirky(obj){return obj&&typeof obj==='object'&&obj.nodeType===1&&typeof obj.nodeName==='string';};var indexOf=Array.prototype.indexOf?function(ary,obj){return ary.indexOf(obj);}:function(ary,obj){for(var i=0,len=ary.length;i<len;i++){if(ary[i]===obj){return i;}}
return-1;};function removeFrom(obj,ary){var index=indexOf(ary,obj);if(index!==-1){ary.splice(index,1);}}
function toDashed(str){return str.replace(/(.)([A-Z])/g,function(match,$1,$2){return $1+'-'+$2;}).toLowerCase();}
function outlayerDefinition(eventie,docReady,EventEmitter,getSize,matchesSelector,Item){var GUID=0;var instances={};function Outlayer(element,options){if(typeof element==='string'){element=document.querySelector(element);}
if(!element||!isElement(element)){if(console){console.error('Bad '+this.settings.namespace+' element: '+element);}
return;}
this.element=element;this.options=extend({},this.options);this.option(options);var id=++GUID;this.element.outlayerGUID=id;instances[id]=this;this._create();if(this.options.isInitLayout){this.layout();}}
Outlayer.prototype.settings={namespace:'outlayer',item:Item};Outlayer.prototype.options={containerStyle:{position:'relative'},isInitLayout:true,isOriginLeft:true,isOriginTop:true,isResizeBound:true,EnableSorting:true,transitionDuration:'0.4s',hiddenStyle:{opacity:0,transform:'scale(0.001)'},visibleStyle:{opacity:1,transform:'scale(1)'}};extend(Outlayer.prototype,EventEmitter.prototype);Outlayer.prototype.option=function(opts){extend(this.options,opts);};Outlayer.prototype._create=function(){this.reloadItems();this.stamps=[];this.stamp(this.options.stamp);extend(this.element.style,this.options.containerStyle);if(this.options.isResizeBound){this.bindResize();}};Outlayer.prototype.reloadItems=function(){this.items=this._itemize(this.element.children);};Outlayer.prototype._itemize=function(elems){var itemElems=this._filterFindItemElements(elems);var Item=this.settings.item;var items=[];for(var i=0,len=itemElems.length;i<len;i++){var elem=itemElems[i];var item=new Item(elem,this);items.push(item);}
return items;};Outlayer.prototype._filterFindItemElements=function(elems){elems=makeArray(elems);var itemSelector=this.options.itemSelector;var itemElems=[];for(var i=0,len=elems.length;i<len;i++){var elem=elems[i];if(!isElement(elem)){continue;}
if(itemSelector){if(matchesSelector(elem,itemSelector)){itemElems.push(elem);}
var childElems=elem.querySelectorAll(itemSelector);for(var j=0,jLen=childElems.length;j<jLen;j++){itemElems.push(childElems[j]);}}else{itemElems.push(elem);}}
return itemElems;};Outlayer.prototype.getItemElements=function(){var elems=[];for(var i=0,len=this.items.length;i<len;i++){elems.push(this.items[i].element);}
return elems;};Outlayer.prototype.layout=function(){this._resetLayout();this._manageStamps();var isInstant=this.options.isLayoutInstant!==undefined?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,isInstant);this._isLayoutInited=true;};Outlayer.prototype._init=Outlayer.prototype.layout;Outlayer.prototype._resetLayout=function(){this.getSize();};Outlayer.prototype.getSize=function(){this.size=getSize(this.element);};Outlayer.prototype._getMeasurement=function(measurement,size){var option=this.options[measurement];var elem;if(!option){this[measurement]=0;}else{if(typeof option==='string'){elem=this.element.querySelector(option);}else if(isElement(option)){elem=option;}
this[measurement]=elem?getSize(elem)[size]:option;}};Outlayer.prototype.layoutItems=function(items,isInstant){items=this._getItemsForLayout(items);this._layoutItems(items,isInstant);this._postLayout();};Outlayer.prototype._getItemsForLayout=function(items){var layoutItems=[];for(var i=0,len=items.length;i<len;i++){var item=items[i];if(!item.isIgnored){layoutItems.push(item);}}
return layoutItems;};Outlayer.prototype._layoutItems=function(items,isInstant){if(!items||!items.length){this.emitEvent('layoutComplete',[this,items]);return;}
this._itemsOn(items,'layout',function onItemsLayout(){this.emitEvent('layoutComplete',[this,items]);});var queue=[];var index=0;for(var i=0,len=items.length;i<len;i++){var item=items[i];if(this.cols==index){index=0;}
var position=this._getItemLayoutPosition(item,index);position.item=item;position.isInstant=isInstant;queue.push(position);if(this.cols>index){index++;}}
this._processLayoutQueue(queue);};Outlayer.prototype._getItemLayoutPosition=function(){return{x:0,y:0};};Outlayer.prototype._processLayoutQueue=function(queue){for(var i=0,len=queue.length;i<len;i++){var obj=queue[i];this._positionItem(obj.item,obj.x,obj.y,obj.isInstant);}};Outlayer.prototype._positionItem=function(item,x,y,isInstant){if(isInstant){item.goTo(x,y);}else{item.moveTo(x,y);}};Outlayer.prototype._postLayout=function(){var size=this._getContainerSize();if(size){this._setContainerMeasure(size.width,true);this._setContainerMeasure(size.height,false);}};Outlayer.prototype._getContainerSize=noop;Outlayer.prototype._setContainerMeasure=function(measure,isWidth){if(measure===undefined){return;}
var elemSize=this.size;if(elemSize.isBorderBox){measure+=isWidth?elemSize.paddingLeft+elemSize.paddingRight+
elemSize.borderLeftWidth+elemSize.borderRightWidth:elemSize.paddingBottom+elemSize.paddingTop+
elemSize.borderTopWidth+elemSize.borderBottomWidth;}
measure=Math.max(measure,0);this.element.style[isWidth?'width':'height']=measure+'px';};Outlayer.prototype._itemsOn=function(items,eventName,callback){var doneCount=0;var count=items.length;var _this=this;function tick(){doneCount++;if(doneCount===count){callback.call(_this);}
return true;}
for(var i=0,len=items.length;i<len;i++){var item=items[i];item.on(eventName,tick);}};Outlayer.prototype.ignore=function(elem){var item=this.getItem(elem);if(item){item.isIgnored=true;}};Outlayer.prototype.unignore=function(elem){var item=this.getItem(elem);if(item){delete item.isIgnored;}};Outlayer.prototype.stamp=function(elems){elems=this._find(elems);if(!elems){return;}
this.stamps=this.stamps.concat(elems);for(var i=0,len=elems.length;i<len;i++){var elem=elems[i];this.ignore(elem);}};Outlayer.prototype.unstamp=function(elems){elems=this._find(elems);if(!elems){return;}
for(var i=0,len=elems.length;i<len;i++){var elem=elems[i];removeFrom(elem,this.stamps);this.unignore(elem);}};Outlayer.prototype._find=function(elems){if(!elems){return;}
if(typeof elems==='string'){elems=this.element.querySelectorAll(elems);}
elems=makeArray(elems);return elems;};Outlayer.prototype._manageStamps=function(){if(!this.stamps||!this.stamps.length){return;}
this._getBoundingRect();for(var i=0,len=this.stamps.length;i<len;i++){var stamp=this.stamps[i];this._manageStamp(stamp);}};Outlayer.prototype._getBoundingRect=function(){var boundingRect=this.element.getBoundingClientRect();var size=this.size;this._boundingRect={left:boundingRect.left+size.paddingLeft+size.borderLeftWidth,top:boundingRect.top+size.paddingTop+size.borderTopWidth,right:boundingRect.right-(size.paddingRight+size.borderRightWidth),bottom:boundingRect.bottom-(size.paddingBottom+size.borderBottomWidth)};};Outlayer.prototype._manageStamp=noop;Outlayer.prototype._getElementOffset=function(elem){var boundingRect=elem.getBoundingClientRect();var thisRect=this._boundingRect;var size=getSize(elem);var offset={left:boundingRect.left-thisRect.left-size.marginLeft,top:boundingRect.top-thisRect.top-size.marginTop,right:thisRect.right-boundingRect.right-size.marginRight,bottom:thisRect.bottom-boundingRect.bottom-size.marginBottom};return offset;};Outlayer.prototype.handleEvent=function(event){var method='on'+event.type;if(this[method]){this[method](event);}};Outlayer.prototype.bindResize=function(){if(this.isResizeBound){return;}
eventie.bind(window,'resize',this);this.isResizeBound=true;};Outlayer.prototype.unbindResize=function(){eventie.unbind(window,'resize',this);this.isResizeBound=false;};Outlayer.prototype.onresize=function(){if(this.resizeTimeout){clearTimeout(this.resizeTimeout);}
var _this=this;function delayed(){_this.resize();delete _this.resizeTimeout;}
this.resizeTimeout=setTimeout(delayed,100);};Outlayer.prototype.resize=function(){var size=getSize(this.element);var hasSizes=this.size&&size;if(hasSizes&&size.innerWidth===this.size.innerWidth){return;}
this.layout();};Outlayer.prototype.addItems=function(elems){var items=this._itemize(elems);if(items.length){this.items=this.items.concat(items);}
return items;};Outlayer.prototype.appended=function(elems){var items=this.addItems(elems);if(!items.length){return;}
this.layoutItems(items,true);this.reveal(items);};Outlayer.prototype.prepended=function(elems){var items=this._itemize(elems);if(!items.length){return;}
var previousItems=this.items.slice(0);this.items=items.concat(previousItems);this._resetLayout();this._manageStamps();this.layoutItems(items,true);this.reveal(items);this.layoutItems(previousItems);};Outlayer.prototype.reveal=function(items){if(!items||!items.length){return;}
for(var i=0,len=items.length;i<len;i++){var item=items[i];item.reveal();}};Outlayer.prototype.hide=function(items){if(!items||!items.length){return;}
for(var i=0,len=items.length;i<len;i++){var item=items[i];item.hide();}};Outlayer.prototype.getItem=function(elem){for(var i=0,len=this.items.length;i<len;i++){var item=this.items[i];if(item.element===elem){return item;}}};Outlayer.prototype.getItems=function(elems){if(!elems||!elems.length){return;}
var items=[];for(var i=0,len=elems.length;i<len;i++){var elem=elems[i];var item=this.getItem(elem);if(item){items.push(item);}}
return items;};Outlayer.prototype.remove=function(elems){elems=makeArray(elems);var removeItems=this.getItems(elems);if(!removeItems||!removeItems.length){return;}
this._itemsOn(removeItems,'remove',function(){this.emitEvent('removeComplete',[this,removeItems]);});for(var i=0,len=removeItems.length;i<len;i++){var item=removeItems[i];item.remove();removeFrom(item,this.items);}};Outlayer.prototype.destroy=function(){var style=this.element.style;style.height='';style.position='';style.width='';for(var i=0,len=this.items.length;i<len;i++){var item=this.items[i];item.destroy();}
this.unbindResize();delete this.element.outlayerGUID;if(jQuery){jQuery.removeData(this.element,this.settings.namespace);}};Outlayer.data=function(elem){var id=elem&&elem.outlayerGUID;return id&&instances[id];};function copyOutlayerProto(obj,property){obj.prototype[property]=extend({},Outlayer.prototype[property]);}
Outlayer.create=function(namespace,options){function Layout(){Outlayer.apply(this,arguments);}
extend(Layout.prototype,Outlayer.prototype);copyOutlayerProto(Layout,'options');copyOutlayerProto(Layout,'settings');extend(Layout.prototype.options,options);Layout.prototype.settings.namespace=namespace;Layout.data=Outlayer.data;Layout.Item=function LayoutItem(){Item.apply(this,arguments);};Layout.Item.prototype=new Item();Layout.prototype.settings.item=Layout.Item;docReady(function(){var dashedNamespace=toDashed(namespace);var elems=document.querySelectorAll('.js-'+dashedNamespace);var dataAttr='data-'+dashedNamespace+'-options';for(var i=0,len=elems.length;i<len;i++){var elem=elems[i];var attr=elem.getAttribute(dataAttr);var options;try{options=attr&&JSON.parse(attr);}catch(error){if(console){console.error('Error parsing '+dataAttr+' on '+
elem.nodeName.toLowerCase()+(elem.id?'#'+elem.id:'')+': '+
error);}
continue;}
var instance=new Layout(elem,options);if(jQuery){jQuery.data(elem,namespace,instance);}}});if(jQuery&&jQuery.bridget){jQuery.bridget(namespace,Layout);}
return Layout;};Outlayer.Item=Item;return Outlayer;}
if(typeof define==='function'&&define.amd){define(['eventie/eventie','doc-ready/doc-ready','eventEmitter/EventEmitter','get-size/get-size','matches-selector/matches-selector','./item'],outlayerDefinition);}else{window.Outlayer=outlayerDefinition(window.eventie,window.docReady,window.EventEmitter,window.getSize,window.matchesSelector,window.Outlayer.Item);}})(window);(function(window){'use strict';var indexOf=Array.prototype.indexOf?function(items,value){return items.indexOf(value);}:function(items,value){for(var i=0,len=items.length;i<len;i++){var item=items[i];if(item===value){return i;}}
return-1;};function masonryDefinition(Outlayer,getSize){var Masonry=Outlayer.create('masonry');Masonry.prototype._resetLayout=function(){this.getSize();this._getMeasurement('columnWidth','outerWidth');this._getMeasurement('gutter','outerWidth');this.measureColumns();var i=this.cols;this.colYs=[];while(i--){this.colYs.push(0);}
this.maxY=0;};Masonry.prototype.measureColumns=function(){this.getContainerWidth();if(!this.columnWidth){var firstItem=this.items[0];var firstItemElem=firstItem&&firstItem.element;this.columnWidth=firstItemElem&&getSize(firstItemElem).outerWidth||this.containerWidth;}
this.columnWidth+=this.gutter;this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth);this.cols=Math.max(this.cols,1);};Masonry.prototype.getContainerWidth=function(){var container=this.options.isFitWidth?this.element.parentNode:this.element;var size=getSize(container);this.containerWidth=size&&size.innerWidth;};Masonry.prototype._getItemLayoutPosition=function(item,itempos){item.getSize();var colSpan=Math.ceil(item.size.outerWidth/this.columnWidth);colSpan=Math.min(colSpan,this.cols);var colGroup=this._getColGroup(colSpan);var minimumY=0;var shortColIndex=0;if(!this.options.EnableSorting){minimumY=colGroup[itempos];shortColIndex=itempos;}else{minimumY=Math.min.apply(Math,colGroup);shortColIndex=indexOf(colGroup,minimumY);}
var position={x:this.columnWidth*shortColIndex,y:minimumY};var setHeight=minimumY+item.size.outerHeight;var setSpan=this.cols+1-colGroup.length;for(var i=0;i<setSpan;i++){this.colYs[shortColIndex+i]=setHeight;}
return position;};Masonry.prototype._getColGroup=function(colSpan){if(colSpan<2){return this.colYs;}
var colGroup=[];var groupCount=this.cols+1-colSpan;for(var i=0;i<groupCount;i++){var groupColYs=this.colYs.slice(i,i+colSpan);colGroup[i]=Math.max.apply(Math,groupColYs);}
return colGroup;};Masonry.prototype._manageStamp=function(stamp){var stampSize=getSize(stamp);var offset=this._getElementOffset(stamp);var firstX=this.options.isOriginLeft?offset.left:offset.right;var lastX=firstX+stampSize.outerWidth;var firstCol=Math.floor(firstX/this.columnWidth);firstCol=Math.max(0,firstCol);var lastCol=Math.floor(lastX/this.columnWidth);lastCol=Math.min(this.cols-1,lastCol);var stampMaxY=(this.options.isOriginTop?offset.top:offset.bottom)+
stampSize.outerHeight;for(var i=firstCol;i<=lastCol;i++){this.colYs[i]=Math.max(stampMaxY,this.colYs[i]);}};Masonry.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var size={height:this.maxY};if(this.options.isFitWidth){size.width=this._getContainerFitWidth();}
return size;};Masonry.prototype._getContainerFitWidth=function(){var unusedCols=0;var i=this.cols;while(--i){if(this.colYs[i]!==0){break;}
unusedCols++;}
return(this.cols-unusedCols)*this.columnWidth-this.gutter;};Masonry.prototype.resize=function(){var previousWidth=this.containerWidth;this.getContainerWidth();if(previousWidth===this.containerWidth){return;}
this.layout();};return Masonry;}
if(typeof define==='function'&&define.amd){define(['outlayer/outlayer','get-size/get-size'],masonryDefinition);}else{window.Masonry=masonryDefinition(window.Outlayer,window.getSize);}})(window);(function(c,n){var l="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";c.fn.imagesLoaded=function(f){function m(){var b=c(i),a=c(h);d&&(h.length?d.reject(e,b,a):d.resolve(e));c.isFunction(f)&&f.call(g,e,b,a)}function j(b,a){b.src===l||-1!==c.inArray(b,k)||(k.push(b),a?h.push(b):i.push(b),c.data(b,"imagesLoaded",{isBroken:a,src:b.src}),o&&d.notifyWith(c(b),[a,e,c(i),c(h)]),e.length===k.length&&(setTimeout(m),e.unbind(".imagesLoaded")))}var g=this,d=c.isFunction(c.Deferred)?c.Deferred():0,o=c.isFunction(d.notify),e=g.find("img").add(g.filter("img")),k=[],i=[],h=[];c.isPlainObject(f)&&c.each(f,function(b,a){if("callback"===b)f=a;else if(d)d[b](a)});e.length?e.bind("load.imagesLoaded error.imagesLoaded",function(b){j(b.target,"error"===b.type)}).each(function(b,a){var d=a.src,e=c.data(a,"imagesLoaded");if(e&&e.src===d)j(a,e.isBroken);else if(a.complete&&a.naturalWidth!==n)j(a,0===a.naturalWidth||0===a.naturalHeight);else if(a.readyState||a.complete)a.src=l,a.src=d}):m();return d?d.promise(g):g}})(jQuery);

/*-----LangSwitch.js----*/

(function($){$.createLangSwitch=function(p){p=$.extend({PortalID:1,UserModuleID:1,CultureCode:"en-US",LangSwitchContainerID:"divNav1",SwitchType:'',DropDownType:''},p);var LanguageSwitch={config:{isPostBack:false,async:false,cache:false,type:'POST',contentType:"application/json; charset=utf-8",data:{data:''},dataType:'json',baseURL:SageFrameAppPath+"/Modules/LanguageSwitcher/js/WebMethods.aspx/",method:"",url:"",ajaxCallMode:0,arr:[],arrPages:[],CultureCode:"",LangSwitchContainerID:p.LangSwitchContainerID,PortalID:p.PortalID,UserModuleID:p.UserModuleID,LanguageSwitchSettings:""},init:function(){LanguageSwitch.BindFlagClickEvent();this.InitializeCarousel();},BindEvents:function(){$(LanguageSwitch.config.ContainerClientID+" ul li").on('click',function(){$(LanguageSwitch.config.ContainerClientID+" ul li").removeClass("cssClassActive");$(this).addClass("cssClassActive");});},ajaxFailure:function(){},ajaxCall:function(config){$.ajax({type:LanguageSwitch.config.type,contentType:LanguageSwitch.config.contentType,cache:LanguageSwitch.config.cache,url:LanguageSwitch.config.url,data:LanguageSwitch.config.data,dataType:LanguageSwitch.config.dataType,success:LanguageSwitch.ajaxSuccess,error:LanguageSwitch.ajaxFailure,async:false});},GetPages:function(){this.config.method="GetMenuFront";this.config.url=this.config.baseURL+this.config.method;this.config.data=JSON2.stringify({PortalID:parseInt(LanguageSwitch.config.PortalID),UserName:LanguageSwitch.config.UserName});this.ajaxSuccess=LanguageSwitch.BindFlags;this.ajaxCall(this.config);},GetCultureInfo:function(){this.config.method="GetCurrentCultureInfo";this.config.url=this.config.baseURL+this.config.method;this.config.data='{}';this.ajaxSuccess=function(data){LanguageSwitch.config.CultureCode=data.d;LanguageSwitch.GetLanguageSettings();};this.ajaxCall(this.config);},GetLanguageSettings:function(){LanguageSwitch.config.method="GetLanguageSettings";LanguageSwitch.config.url=this.config.baseURL+this.config.method;LanguageSwitch.config.data=JSON2.stringify({PortalID:parseInt(LanguageSwitch.config.PortalID),UserModuleID:parseInt(LanguageSwitch.config.UserModuleID)});LanguageSwitch.ajaxSuccess=LanguageSwitch.LoadFlags;LanguageSwitch.ajaxCall(this.config);},LoadFlags:function(data){LanguageSwitch.config.method="GetAvailableLanguages";LanguageSwitch.config.url=LanguageSwitch.config.baseURL+LanguageSwitch.config.method;LanguageSwitch.config.data=JSON2.stringify({baseURL:SageFrameAppPath,PortalID:parseInt(LanguageSwitch.config.PortalID)});LanguageSwitch.config.ajaxCallMode=null;$.ajax({type:LanguageSwitch.config.type,async:false,contentType:LanguageSwitch.config.contentType,cache:LanguageSwitch.config.cache,url:LanguageSwitch.config.url,data:LanguageSwitch.config.data,dataType:LanguageSwitch.config.dataType,success:function(msg){if(msg.d.length>0){LanguageSwitch.BindFlags(msg,data.d);}},error:LanguageSwitch.ajaxFailure});},BindFlags:function(msg,settings){languages=msg.d;var switchSettings=settings;if(switchSettings.length>0){var _SwitchType="";var _ListTypeFlags="false";var _ListTypeName="false";var _ListTypeBoth="false";var _ListAlign="H";var _EnableCarousel="false";var _DropDownType="Flag";$.each(switchSettings,function(index,item){if(item.Key=="ListTypeBoth"){_ListTypeBoth=item.Value;}
if(item.Key=="ListTypeFlag"){_ListTypeFlags=item.Value;}
if(item.Key=="ListTypeName"){_ListTypeName=item.Value;}
if(item.Key=="ListAlign"){_ListAlign=item.Value;}
if(item.Key=="EnableCarousel"){_EnableCarousel=item.Value;}
if(item.Key=="SwitchType"){_SwitchType=item.Value;}
if(item.Key=="DropDownType"){_DropDownType=item.Value;}});var html="";var data=msg.d;if(_SwitchType.toLowerCase()=="list"){html=_ListAlign.toLowerCase()=="h"?'<ul id="imgFlagButton_'+LanguageSwitch.config.UserModuleID+'" class="defaultButtonClass">':'<ul id="imgFlagButton_'+LanguageSwitch.config.UserModuleID+'">';var carousel="";$.each(data,function(index,item){if(_EnableCarousel.toLowerCase()=="false"){if(_ListTypeBoth.toLowerCase()=="true"){if(_ListAlign.toLowerCase()=="h"){if(item.LanguageCode==LanguageSwitch.config.CultureCode){html+='<li class="cssClassFlagButtonHor cssClassSelectedFlag"  code="'+item.LanguageCode+'"><img src='+item.FlagPath+' /><span>'+item.LanguageName+'</span></li>';}
else{html+='<li class="cssClassFlagButtonHor"  code="'+item.LanguageCode+'"><img src='+item.FlagPath+' /><span>'+item.LanguageName+'</span></li>';}}
else{if(item.LanguageCode==LanguageSwitch.config.CultureCode){html+='<li class="cssClassFlagButtonVer cssClassSelectedFlag"  code="'+item.LanguageCode+'"><img src='+item.FlagPath+' /><span>'+item.LanguageName+'</span></li>';}
else{html+='<li class="cssClassFlagButtonVer"  code="'+item.LanguageCode+'"><img src='+item.FlagPath+' /><span>'+item.LanguageName+'</span></li>';}}}
else if(_ListTypeName.toLowerCase()=="true"){if(_ListAlign.toLowerCase()=="h"){if(item.LanguageCode==LanguageSwitch.config.CultureCode){html+='<li class="cssClassLanguageName"  code="'+item.LanguageCode+'"><span>'+item.LanguageN+"<b>("+item.NativeName+")</b>"+'</span></li>';}
else{html+='<li class="cssClassLanguageName" code="'+item.LanguageCode+'" ><span>'+item.LanguageN+"<b>("+item.NativeName+")</b>"+'</span></li>';}}
else{if(item.LanguageCode==LanguageSwitch.config.CultureCode){html+='<li class="cssClassSelectedFlag cssClassLanguageNameVer"  code="'+item.LanguageCode+'"><span>'+item.LanguageN+"<b>("+item.NativeName+")</b>"+'</span></li>';}
else{html+='<li class="cssClassLanguageNameVer" code="'+item.LanguageCode+'" ><span>'+item.LanguageN+"<b>("+item.NativeName+")</b>"+'</span></li>';}}}
else if(_ListTypeFlags.toLowerCase()=="true"){if(_ListAlign.toLowerCase()=="h"){if(item.LanguageCode==LanguageSwitch.config.CultureCode){html+='<li class="cssClassSelectedFlag cssClassLanguageFlag flag" title="'+item.LanguageName+'" code="'+item.LanguageCode+'"><img src='+item.FlagPath+' /></li>';}
else{html+='<li class="cssClassLanguageFlag flag"  code="'+item.LanguageCode+'" title="'+item.LanguageName+'"><img src='+item.FlagPath+' /></li>';}}
else{if(item.LanguageCode==LanguageSwitch.config.CultureCode){html+='<li class="cssClassSelectedFlag cssClassLanguageFlagVer flag" title="'+item.LanguageName+'" code="'+item.LanguageCode+'"><img src='+item.FlagPath+' /></li>';}
else{html+='<li class="cssClassLanguageFlagVer flag"  code="'+item.LanguageCode+'" title="'+item.LanguageName+'"><img src='+item.FlagPath+' /></li>';}}}
$(LanguageSwitch.config.LangSwitchContainerID+' #carousel_container_'+LanguageSwitch.config.UserModuleID).hide();}
else if(_EnableCarousel.toLowerCase()=="true"){$(LanguageSwitch.config.LangSwitchContainerID+' #divFlagButton_'+LanguageSwitch.config.UserModuleID+'').hide();if(item.LanguageCode==LanguageSwitch.config.CultureCode){carousel+='<li class="cssClassSelectedFlag" title="'+item.LanguageName+'"><a href="#" code='+item.LanguageCode+'><img src='+item.FlagPath+' /></a></li>';}
else{carousel+='<li title="'+item.LanguageName+'" ><a href="#" code='+item.LanguageCode+'><img src='+item.FlagPath+' /></a></li>';}}});html+='</ul>';$(LanguageSwitch.config.LangSwitchContainerID+' #divFlagButton_'+LanguageSwitch.config.UserModuleID+'').append(html);if(_EnableCarousel.toLowerCase()=="true"){$(LanguageSwitch.config.LangSwitchContainerID+' #carousel_ul_'+LanguageSwitch.config.UserModuleID+'').append(carousel);$(LanguageSwitch.config.LangSwitchContainerID+' #carousel_container_'+LanguageSwitch.config.UserModuleID+'').show();}}
else if(_SwitchType.toLowerCase()=="dropdown"){var ddl="";if(_DropDownType.toLowerCase()=="normal"){ddl='<select id="ddlLocales_'+LanguageSwitch.config.UserModuleID+'">';$.each(data,function(index,item){if(item.LanguageCode==LanguageSwitch.config.CultureCode){ddl+='<option selected="selected">'+item.LanguageCode+'</option>';}
else{ddl+='<option>'+item.LanguageCode+'</option>';}});ddl+='</select>';$(LanguageSwitch.config.LangSwitchContainerID+' #divPlainDDL_'+LanguageSwitch.config.UserModuleID+'').append(ddl);}
else if(_DropDownType.toLowerCase()=="flag"){ddl='<select id="ddlFlaggedLocales_'+LanguageSwitch.config.UserModuleID+'">';$.each(data,function(index,item){if(item.LanguageCode==LanguageSwitch.config.CultureCode){ddl+='<option  title="'+item.FlagPath+'" selected="selected"  value="'+item.LanguageCode+'" >'+item.LanguageCode+'</option>';}
else{ddl+='<option title="'+item.FlagPath+'"  value='+item.LanguageCode+' >'+item.LanguageCode+'</option>';}});ddl+='</select>';$(LanguageSwitch.config.LangSwitchContainerID+' #divFlagDDL_'+LanguageSwitch.config.UserModuleID+'').append(ddl);$('#ddlFlaggedLocales_'+LanguageSwitch.config.UserModuleID+'').msDropDown().data("dd");$('div.dd').removeAttr("style");}
$(LanguageSwitch.config.LangSwitchContainerID+' #imgFlagButton_'+LanguageSwitch.config.UserModuleID+'').hide();$(LanguageSwitch.config.LangSwitchContainerID+' #carousel_container_'+LanguageSwitch.config.UserModuleID+'').hide();}}
LanguageSwitch.BindFlagClickEvent();},BindFlagClickEvent:function(){$(LanguageSwitch.config.LangSwitchContainerID+' #carousel_ul_'+LanguageSwitch.config.UserModuleID+' li').bind("click",function(){var code=$(this).find("a").attr("code");LanguageSwitch.SetCulture(code);});$(LanguageSwitch.config.LangSwitchContainerID+' #divFlagButton_'+LanguageSwitch.config.UserModuleID+' li').bind("click",function(){var code=$(this).attr("code");LanguageSwitch.SetCulture(code);});$(LanguageSwitch.config.LangSwitchContainerID+' #ddlFlaggedLocales_'+LanguageSwitch.config.UserModuleID+'').change(function(){var code=$('#ddlFlaggedLocales_'+LanguageSwitch.config.UserModuleID+' option:selected').text();LanguageSwitch.SetCulture(code);});$(LanguageSwitch.config.LangSwitchContainerID+' #ddlLocales_'+LanguageSwitch.config.UserModuleID+'').bind("change",function(){var code=$(LanguageSwitch.config.LangSwitchContainerID+' #ddlLocales_'+LanguageSwitch.config.UserModuleID+' option:selected').text();LanguageSwitch.SetCulture(code);});LanguageSwitch.InitializeToolTip();if(p.SwitchType.toLowerCase()=='dropdown'){if(p.DropDownType.toLowerCase()=='flag'){$('#ddlFlaggedLocales_'+LanguageSwitch.config.UserModuleID+'').msDropDown().data("dd");$('div.dd').removeAttr("style");}
$(LanguageSwitch.config.LangSwitchContainerID+' #imgFlagButton_'+LanguageSwitch.config.UserModuleID+'').hide();$(LanguageSwitch.config.LangSwitchContainerID+' #carousel_container_'+LanguageSwitch.config.UserModuleID+'').hide();}},InitializeCarousel:function(){if($('#carousel_ul_'+LanguageSwitch.config.UserModuleID+' li').length>=3){$(".cssClassCarousel").css({'height':'10px','width':'72px'});}
$(LanguageSwitch.config.LangSwitchContainerID+' #carousel_ul_'+LanguageSwitch.config.UserModuleID+' li:first').before($(LanguageSwitch.config.LangSwitchContainerID+' #carousel_ul li:last'));if($('#carousel_ul_'+LanguageSwitch.config.UserModuleID+' li').length>1){this.LoadImages();this.BindEvents();$('#right_scroll_'+LanguageSwitch.config.UserModuleID+' img').click(function(){var item_width=$('#carousel_ul_'+LanguageSwitch.config.UserModuleID+' li').outerWidth()+10;var left_indent=parseInt($('#carousel_ul_'+LanguageSwitch.config.UserModuleID+'').css('left'))-item_width;$('#carousel_ul_'+LanguageSwitch.config.UserModuleID+':not(:animated)').animate({'left':left_indent},500,function(){$('#carousel_ul_'+LanguageSwitch.config.UserModuleID+' li:last').after($('#carousel_ul_'+LanguageSwitch.config.UserModuleID+' li:first'));$('#carousel_ul_'+LanguageSwitch.config.UserModuleID+'').css({'left':'0px'});});});$('#left_scroll_'+LanguageSwitch.config.UserModuleID+' img').click(function(){var item_width=$('#carousel_ul_'+LanguageSwitch.config.UserModuleID+' li').outerWidth()+10;var left_indent=parseInt($('#carousel_ul_'+LanguageSwitch.config.UserModuleID+'').css('left'))+item_width;$('#carousel_ul_'+LanguageSwitch.config.UserModuleID+':not(:animated)').animate({'left':left_indent},500,function(){$('#carousel_ul_'+LanguageSwitch.config.UserModuleID+' li:first').before($('#carousel_ul_'+LanguageSwitch.config.UserModuleID+' li:last'));$(LanguageSwitch.config.LangSwitchContainerID+' #carousel_ul_'+LanguageSwitch.config.UserModuleID+'').css({'left':'0px'});});});for(var i=0;i<$('#carousel_ul_'+LanguageSwitch.config.UserModuleID+' li.cssClassSelectedFlag').index();i++){$('#carousel_ul_'+LanguageSwitch.config.UserModuleID+' li:first').before($('#carousel_ul_'+LanguageSwitch.config.UserModuleID+' li:last'));}}},InitializeToolTip:function(){$(LanguageSwitch.config.LangSwitchContainerID+' #imgFlagButton_'+LanguageSwitch.config.UserModuleID+' li').tooltip({position:"bottom center"});$(LanguageSwitch.config.LangSwitchContainerID+' #carousel_ul_'+LanguageSwitch.config.UserModuleID+' li').tooltip({position:"bottom center"});},LoadImages:function(){$(LanguageSwitch.config.LangSwitchContainerID+' img.imgLeftScroll').attr("src",LanguageSwitchFilePath+"images/left.png");$(LanguageSwitch.config.LangSwitchContainerID+' img.imgRightScroll').attr("src",LanguageSwitchFilePath+"images/right.png");},SetCulture:function(code){this.config.method="SetCultureInfo";this.config.url=this.config.baseURL+this.config.method;this.config.data=JSON2.stringify({CultureCode:code});this.ajaxSuccess=location.reload(true);this.ajaxCall(this.config);}};LanguageSwitch.init();};$.fn.langswitcher=function(p){$.createLangSwitch(p);};})(jQuery);

/*-----jquery.bxslider.js----*/
;(function($){var plugin={};var defaults={mode:'horizontal',slideSelector:'',infiniteLoop:true,hideControlOnEnd:false,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:false,captions:false,ticker:false,tickerHover:false,adaptiveHeight:false,adaptiveHeightSpeed:500,touchEnabled:true,swipeThreshold:50,video:false,useCSS:true,pager:true,pagerType:'full',pagerShortSeparator:' / ',pagerSelector:null,buildPager:null,pagerCustom:null,controls:true,nextText:'Next',prevText:'Prev',nextSelector:null,prevSelector:null,autoControls:false,startText:'Start',stopText:'Stop',autoControlsCombine:false,autoControlsSelector:null,auto:false,pause:4000,autoStart:true,autoDirection:'next',autoHover:false,autoDelay:0,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){}}
$.fn.bxSlider=function(options){if(this.length==0)return;if(this.length>1){this.each(function(){$(this).bxSlider(options)});return this;}
var slider={};var el=this;plugin.el=this;var init=function(){slider.settings=$.extend({},defaults,options);slider.children=el.children(slider.settings.slideSelector);if(slider.settings.randomStart)slider.settings.startSlide=Math.floor(Math.random()*slider.children.length);slider.active={index:slider.settings.startSlide}
slider.carousel=slider.settings.minSlides>1||slider.settings.maxSlides>1;slider.minThreshold=(slider.settings.minSlides*slider.settings.slideWidth)+((slider.settings.minSlides-1)*slider.settings.slideMargin);slider.maxThreshold=(slider.settings.maxSlides*slider.settings.slideWidth)+((slider.settings.maxSlides-1)*slider.settings.slideMargin);slider.working=false;slider.controls={};slider.animProp=slider.settings.mode=='vertical'?'top':'left';slider.usingCSS=slider.settings.useCSS&&slider.settings.mode!='fade'&&(function(){var div=document.createElement('div');var props=['WebkitPerspective','MozPerspective','OPerspective','msPerspective'];for(var i in props){if(div.style[props[i]]!==undefined){slider.cssPrefix=props[i].replace('Perspective','').toLowerCase();slider.animProp='-'+slider.cssPrefix+'-transform';return true;}}
return false;}());if(slider.settings.mode=='vertical')slider.settings.maxSlides=slider.settings.minSlides;setup();}
var setup=function(){debugger;el.wrap('<div class="bx-wrapper"><div class="bx-viewport"></div></div>');slider.viewport=el.parent();slider.loader=$('<div class="bx-loading" />');slider.viewport.prepend(slider.loader);el.css({width:slider.settings.mode=='horizontal'?slider.children.length*215+'%':'auto',position:'relative',});if(slider.usingCSS&&slider.settings.easing){el.css('-'+slider.cssPrefix+'-transition-timing-function',slider.settings.easing);}else if(!slider.settings.easing){slider.settings.easing='swing';}
slider.viewport.css({width:'100%',overflow:'hidden',position:'relative'});slider.children.css({float:slider.settings.mode=='horizontal'?'left':'none',listStyle:'none',});slider.children.width(getSlideWidth());if(slider.settings.mode=='horizontal'&&slider.settings.slideMargin>0)slider.children.css('marginRight',slider.settings.slideMargin);if(slider.settings.mode=='vertical'&&slider.settings.slideMargin>0)slider.children.css('marginBottom',slider.settings.slideMargin);if(slider.settings.mode=='fade'){slider.children.css({position:'absolute',zIndex:0,display:'none'});slider.children.eq(slider.settings.startSlide).css({zIndex:50,display:'block'});}
slider.controls.el=$('<div class="bx-controls" />');if(slider.settings.captions)appendCaptions();if(slider.settings.infiniteLoop&&slider.settings.mode!='fade'&&!slider.settings.ticker){var slice=slider.settings.mode=='vertical'?slider.settings.minSlides:slider.settings.maxSlides;var sliceAppend=slider.children.slice(0,slice).clone().addClass('bx-clone');var slicePrepend=slider.children.slice(-slice).clone().addClass('bx-clone');el.append(sliceAppend).prepend(slicePrepend);}
slider.active.last=slider.settings.startSlide==getPagerQty()-1;if(slider.settings.video)el.fitVids();if(!slider.settings.ticker){if(slider.settings.pager)appendPager();if(slider.settings.controls)appendControls();if(slider.settings.auto&&slider.settings.autoControls)appendControlsAuto();if(slider.settings.controls||slider.settings.autoControls||slider.settings.pager)slider.viewport.after(slider.controls.el);}
el.children().imagesLoaded(function(){slider.loader.remove();setSlidePosition();if(slider.settings.mode=='vertical')slider.settings.adaptiveHeight=true;slider.viewport.height(getViewportHeight());slider.settings.onSliderLoad(slider.active.index);if(slider.settings.auto&&slider.settings.autoStart)initAuto();if(slider.settings.ticker)initTicker();if(slider.settings.pager)updatePagerActive(slider.settings.startSlide);if(slider.settings.controls)updateDirectionControls();if(slider.settings.touchEnabled&&!slider.settings.ticker)initTouch();});}
var getViewportHeight=function(){var height=0;var children=$();if(slider.settings.mode!='vertical'&&!slider.settings.adaptiveHeight){children=slider.children;}else{if(!slider.carousel){children=slider.children.eq(slider.active.index);}else{var currentIndex=slider.settings.moveSlides==1?slider.active.index:slider.active.index*getMoveBy();children=slider.children.eq(currentIndex);for(i=1;i<=slider.settings.maxSlides-1;i++){if(currentIndex+i>=slider.children.length){children=children.add(slider.children.eq(i-1));}else{children=children.add(slider.children.eq(currentIndex+i));}}}}
if(slider.settings.mode=='vertical'){children.each(function(index){height+=$(this).outerHeight();});if(slider.settings.slideMargin>0){height+=slider.settings.slideMargin*(slider.settings.minSlides-1);}}else{height=Math.max.apply(Math,children.map(function(){return $(this).outerHeight(false);}).get());}
return height;}
var getSlideWidth=function(){var newElWidth=slider.settings.slideWidth;var wrapWidth=slider.viewport.width();if(slider.settings.slideWidth==0){newElWidth=wrapWidth;}else{if(wrapWidth>slider.maxThreshold){newElWidth=(wrapWidth-(slider.settings.slideMargin*(slider.settings.maxSlides-1)))/slider.settings.maxSlides;}else if(wrapWidth<slider.minThreshold){newElWidth=(wrapWidth-(slider.settings.slideMargin*(slider.settings.minSlides-1)))/slider.settings.minSlides;}}
return newElWidth;}
var getNumberSlidesShowing=function(){var slidesShowing=1;if(slider.settings.mode=='horizontal'){if(slider.viewport.width()<slider.minThreshold){slidesShowing=slider.settings.minSlides;}else if(slider.viewport.width()>slider.maxThreshold){slidesShowing=slider.settings.maxSlides;}else{var childWidth=slider.children.first().width();slidesShowing=Math.floor(slider.viewport.width()/childWidth);}}else if(slider.settings.mode=='vertical'){slidesShowing=slider.settings.minSlides;}
return slidesShowing;}
var getPagerQty=function(){var pagerQty=0;if(slider.settings.moveSlides>0){if(slider.settings.infiniteLoop){pagerQty=slider.children.length/getMoveBy();}else{var breakPoint=0;var counter=0
while(breakPoint<slider.children.length){++pagerQty;breakPoint=counter+getNumberSlidesShowing();counter+=slider.settings.moveSlides<=getNumberSlidesShowing()?slider.settings.moveSlides:getNumberSlidesShowing();}}}else{pagerQty=Math.ceil(slider.children.length/getNumberSlidesShowing());}
return pagerQty;}
var getMoveBy=function(){if(slider.settings.moveSlides>0&&slider.settings.moveSlides<=getNumberSlidesShowing()){return slider.settings.moveSlides;}
return getNumberSlidesShowing();}
var setSlidePosition=function(){if(slider.active.last){if(slider.settings.mode=='horizontal'){var lastChild=slider.children.last();var position=lastChild.position();setPositionProperty(-(position.left-(slider.viewport.width()-lastChild.width())),'reset',0);}else if(slider.settings.mode=='vertical'){var lastShowingIndex=slider.children.length-slider.settings.minSlides;var position=slider.children.eq(lastShowingIndex).position();setPositionProperty(-position.top,'reset',0);}}else{var position=slider.children.eq(slider.active.index*getMoveBy()).position();if(slider.active.index==getPagerQty()-1)slider.active.last=true;if(position!=undefined){if(slider.settings.mode=='horizontal')setPositionProperty(-position.left,'reset',0);else if(slider.settings.mode=='vertical')setPositionProperty(-position.top,'reset',0);}}}
var setPositionProperty=function(value,type,duration,params){if(slider.usingCSS){var propValue=slider.settings.mode=='vertical'?'translate3d(0, '+value+'px, 0)':'translate3d('+value+'px, 0, 0)';el.css('-'+slider.cssPrefix+'-transition-duration',duration/1000+'s');if(type=='slide'){el.css(slider.animProp,propValue);el.bind('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd',function(){el.unbind('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd');updateAfterSlideTransition();});}else if(type=='reset'){el.css(slider.animProp,propValue);}else if(type=='ticker'){el.css('-'+slider.cssPrefix+'-transition-timing-function','linear');el.css(slider.animProp,propValue);el.bind('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd',function(){el.unbind('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd');setPositionProperty(params['resetValue'],'reset',0);tickerLoop();});}}else{var animateObj={};animateObj[slider.animProp]=value;if(type=='slide'){el.animate(animateObj,duration,slider.settings.easing,function(){updateAfterSlideTransition();});}else if(type=='reset'){el.css(slider.animProp,value)}else if(type=='ticker'){el.animate(animateObj,speed,'linear',function(){setPositionProperty(params['resetValue'],'reset',0);tickerLoop();});}}}
var populatePager=function(){var pagerHtml='';pagerQty=getPagerQty();for(var i=0;i<pagerQty;i++){var linkContent='';if(slider.settings.buildPager&&$.isFunction(slider.settings.buildPager)){linkContent=slider.settings.buildPager(i);slider.pagerEl.addClass('bx-custom-pager');}else{linkContent=i+1;slider.pagerEl.addClass('bx-default-pager');}
pagerHtml+='<div class="bx-pager-item"><a href="" data-slide-index="'+i+'" class="bx-pager-link">'+linkContent+'</a></div>';};slider.pagerEl.html(pagerHtml);}
var appendPager=function(){if(!slider.settings.pagerCustom){slider.pagerEl=$('<div class="bx-pager" />');if(slider.settings.pagerSelector){$(slider.settings.pagerSelector).html(slider.pagerEl);}else{slider.controls.el.addClass('bx-has-pager').append(slider.pagerEl);}
populatePager();}else{slider.pagerEl=$(slider.settings.pagerCustom);}
slider.pagerEl.delegate('a','click',clickPagerBind);}
var appendControls=function(){slider.controls.next=$('<a class="bx-next" href="">'+slider.settings.nextText+'</a>');slider.controls.prev=$('<a class="bx-prev" href="">'+slider.settings.prevText+'</a>');slider.controls.next.bind('click',clickNextBind);slider.controls.prev.bind('click',clickPrevBind);if(slider.settings.nextSelector){$(slider.settings.nextSelector).append(slider.controls.next);}
if(slider.settings.prevSelector){$(slider.settings.prevSelector).append(slider.controls.prev);}
if(!slider.settings.nextSelector&&!slider.settings.prevSelector){slider.controls.directionEl=$('<div class="bx-controls-direction" />');slider.controls.directionEl.append(slider.controls.prev).append(slider.controls.next);slider.controls.el.addClass('bx-has-controls-direction').append(slider.controls.directionEl);}}
var appendControlsAuto=function(){slider.controls.start=$('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+slider.settings.startText+'</a></div>');slider.controls.stop=$('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+slider.settings.stopText+'</a></div>');slider.controls.autoEl=$('<div class="bx-controls-auto" />');slider.controls.autoEl.delegate('.bx-start','click',clickStartBind);slider.controls.autoEl.delegate('.bx-stop','click',clickStopBind);if(slider.settings.autoControlsCombine){slider.controls.autoEl.append(slider.controls.start);}else{slider.controls.autoEl.append(slider.controls.start).append(slider.controls.stop);}
if(slider.settings.autoControlsSelector){$(slider.settings.autoControlsSelector).html(slider.controls.autoEl);}else{slider.controls.el.addClass('bx-has-controls-auto').append(slider.controls.autoEl);}
updateAutoControls(slider.settings.autoStart?'stop':'start');}
var appendCaptions=function(){slider.children.each(function(index){var title=$(this).find('img:first').attr('title');if(title!=undefined)$(this).append('<div class="bx-caption"><span>'+title+'</span></div>');});}
var clickNextBind=function(e){if(slider.settings.auto)el.stopAuto();el.goToNextSlide();el.startAuto();e.preventDefault();}
var clickPrevBind=function(e){if(slider.settings.auto)el.stopAuto();el.goToPrevSlide();e.preventDefault();}
var clickStartBind=function(e){el.startAuto();e.preventDefault();}
var clickStopBind=function(e){el.stopAuto();e.preventDefault();}
var clickPagerBind=function(e){if(slider.settings.auto)el.stopAuto();var pagerLink=$(e.currentTarget);var pagerIndex=parseInt(pagerLink.attr('data-slide-index'));if(pagerIndex!=slider.active.index)el.goToSlide(pagerIndex);e.preventDefault();el.startAuto();}
var updatePagerActive=function(slideIndex){if(slider.settings.pagerType=='short'){slider.pagerEl.html((slideIndex+1)+slider.settings.pagerShortSeparator+slider.children.length);return;}
slider.pagerEl.find('a').removeClass('active');slider.pagerEl.find('a').eq(slideIndex).addClass('active');}
var updateAfterSlideTransition=function(){if(slider.settings.infiniteLoop){var position='';if(slider.active.index==0){position=slider.children.eq(0).position();}else if(slider.active.index==getPagerQty()-1&&slider.carousel){position=slider.children.eq((getPagerQty()-1)*getMoveBy()).position();}else if(slider.active.index==slider.children.length-1){position=slider.children.eq(slider.children.length-1).position();}
if(slider.settings.mode=='horizontal'){setPositionProperty(-position.left,'reset',0);;}
else if(slider.settings.mode=='vertical'){setPositionProperty(-position.top,'reset',0);;}}
slider.working=false;slider.settings.onSlideAfter(slider.children.eq(slider.active.index),slider.oldIndex,slider.active.index);}
var updateAutoControls=function(state){if(slider.settings.autoControlsCombine){slider.controls.autoEl.html(slider.controls[state]);}else{slider.controls.autoEl.find('a').removeClass('active');slider.controls.autoEl.find('a:not(.bx-'+state+')').addClass('active');}}
var updateDirectionControls=function(){if(!slider.settings.infiniteLoop&&slider.settings.hideControlOnEnd){if(slider.active.index==0){slider.controls.prev.addClass('disabled');slider.controls.next.removeClass('disabled');}else if(slider.active.index==getPagerQty()-1){slider.controls.next.addClass('disabled');slider.controls.prev.removeClass('disabled');}else{slider.controls.prev.removeClass('disabled');slider.controls.next.removeClass('disabled');}}}
var initAuto=function(){if(slider.settings.autoDelay>0){var timeout=setTimeout(el.startAuto,slider.settings.autoDelay);}else{el.startAuto();}
if(slider.settings.autoHover){el.hover(function(){if(slider.interval){el.stopAuto(true);slider.autoPaused=true;}},function(){if(slider.autoPaused){el.startAuto(true);slider.autoPaused=null;}});}}
var initTicker=function(){var startPosition=0;if(slider.settings.autoDirection=='next'){el.append(slider.children.clone().addClass('bx-clone'));}else{el.prepend(slider.children.clone().addClass('bx-clone'));var position=slider.children.first().position();startPosition=slider.settings.mode=='horizontal'?-position.left:-position.top;}
setPositionProperty(startPosition,'reset',0);slider.settings.pager=false;slider.settings.controls=false;slider.settings.autoControls=false;if(slider.settings.tickerHover&&!slider.usingCSS){slider.viewport.hover(function(){el.stop();},function(){var totalDimens=0;slider.children.each(function(index){totalDimens+=slider.settings.mode=='horizontal'?$(this).outerWidth(true):$(this).outerHeight(true);});var ratio=slider.settings.speed/totalDimens;var property=slider.settings.mode=='horizontal'?'left':'top';var newSpeed=ratio*(totalDimens-(Math.abs(parseInt(el.css(property)))));tickerLoop(newSpeed);});}
tickerLoop();}
var tickerLoop=function(resumeSpeed){speed=resumeSpeed?resumeSpeed:slider.settings.speed;var position={left:0,top:0};var reset={left:0,top:0};if(slider.settings.autoDirection=='next'){position=el.find('.bx-clone').first().position();}else{reset=slider.children.first().position();}
var animateProperty=slider.settings.mode=='horizontal'?-position.left:-position.top;var resetValue=slider.settings.mode=='horizontal'?-reset.left:-reset.top;var params={resetValue:resetValue};setPositionProperty(animateProperty,'ticker',speed,params);}
var initTouch=function(){slider.touch={start:{x:0,y:0},end:{x:0,y:0}}
slider.viewport.bind('touchstart',onTouchStart);}
var onTouchStart=function(e){if(slider.working){e.preventDefault();}else{slider.touch.originalPos=el.position();var orig=e.originalEvent;slider.touch.start.x=orig.changedTouches[0].pageX;slider.touch.start.y=orig.changedTouches[0].pageY;slider.viewport.bind('touchmove',onTouchMove);slider.viewport.bind('touchend',onTouchEnd);}}
var onTouchMove=function(e){e.preventDefault();if(slider.settings.mode!='fade'){var orig=e.originalEvent;var value=0;if(slider.settings.mode=='horizontal'){var change=orig.changedTouches[0].pageX-slider.touch.start.x;value=slider.touch.originalPos.left+change;}else{var change=orig.changedTouches[0].pageY-slider.touch.start.y;value=slider.touch.originalPos.top+change;}
setPositionProperty(value,'reset',0);}}
var onTouchEnd=function(e){slider.viewport.unbind('touchmove',onTouchMove);var orig=e.originalEvent;var value=0;slider.touch.end.x=orig.changedTouches[0].pageX;slider.touch.end.y=orig.changedTouches[0].pageY;if(slider.settings.mode=='fade'){var distance=Math.abs(slider.touch.start.x-slider.touch.end.x);if(distance>=slider.settings.swipeThreshold){slider.touch.start.x>slider.touch.end.x?el.goToNextSlide():el.goToPrevSlide();el.stopAuto();}}else{var distance=0;if(slider.settings.mode=='horizontal'){distance=slider.touch.end.x-slider.touch.start.x;value=slider.touch.originalPos.left;}else{distance=slider.touch.end.y-slider.touch.start.y;value=slider.touch.originalPos.top;}
if(!slider.settings.infiniteLoop&&((slider.active.index==0&&distance>0)||(slider.active.last&&distance<0))){setPositionProperty(value,'reset',200);}else{if(Math.abs(distance)>=slider.settings.swipeThreshold){distance<0?el.goToNextSlide():el.goToPrevSlide();el.stopAuto();}else{setPositionProperty(value,'reset',200);}}}
slider.viewport.unbind('touchend',onTouchEnd);}
el.goToSlide=function(slideIndex,direction){if(slider.working||slider.active.index==slideIndex)return;slider.working=true;slider.oldIndex=slider.active.index;if(slideIndex<0){slider.active.index=getPagerQty()-1;}else if(slideIndex>=getPagerQty()){slider.active.index=0;}else{slider.active.index=slideIndex;}
slider.settings.onSlideBefore(slider.children.eq(slider.active.index),slider.oldIndex,slider.active.index);if(direction=='next'){slider.settings.onSlideNext(slider.children.eq(slider.active.index),slider.oldIndex,slider.active.index);}else if(direction=='prev'){slider.settings.onSlidePrev(slider.children.eq(slider.active.index),slider.oldIndex,slider.active.index);}
slider.active.last=slider.active.index>=getPagerQty()-1;if(slider.settings.pager)updatePagerActive(slider.active.index);if(slider.settings.controls)updateDirectionControls();if(slider.settings.mode=='fade'){if(slider.settings.adaptiveHeight&&slider.viewport.height()!=getViewportHeight()){slider.viewport.animate({height:getViewportHeight()},slider.settings.adaptiveHeightSpeed);}
slider.children.filter(':visible').fadeOut(slider.settings.speed).css({zIndex:0});slider.children.eq(slider.active.index).css('zIndex',51).fadeIn(slider.settings.speed,function(){$(this).css('zIndex',50);updateAfterSlideTransition();});}else{if(slider.settings.adaptiveHeight&&slider.viewport.height()!=getViewportHeight()){slider.viewport.animate({height:getViewportHeight()},slider.settings.adaptiveHeightSpeed);}
var moveBy=0;var position={left:0,top:0};if(!slider.settings.infiniteLoop&&slider.carousel&&slider.active.last){if(slider.settings.mode=='horizontal'){var lastChild=slider.children.eq(slider.children.length-1);position=lastChild.position();moveBy=slider.viewport.width()-lastChild.width();}else{var lastShowingIndex=slider.children.length-slider.settings.minSlides;position=slider.children.eq(lastShowingIndex).position();}}else if(slider.carousel&&slider.active.last&&direction=='prev'){var eq=slider.settings.moveSlides==1?slider.settings.maxSlides-getMoveBy():((getPagerQty()-1)*getMoveBy())-(slider.children.length-slider.settings.maxSlides);var lastChild=el.children('.bx-clone').eq(eq);position=lastChild.position();}else if(direction=='next'&&slider.active.index==0){position=el.find('.bx-clone').eq(slider.settings.maxSlides).position();slider.active.last=false;}else if(slideIndex>=0){var requestEl=slideIndex*getMoveBy();position=slider.children.eq(requestEl).position();}
var value=slider.settings.mode=='horizontal'?-(position.left-moveBy):-position.top;setPositionProperty(value,'slide',slider.settings.speed);}}
el.goToNextSlide=function(){if(!slider.settings.infiniteLoop&&slider.active.last)return;var pagerIndex=slider.active.index+1;el.goToSlide(pagerIndex,'next');}
el.goToPrevSlide=function(){if(!slider.settings.infiniteLoop&&slider.active.index==0)return;var pagerIndex=slider.active.index-1;el.goToSlide(pagerIndex,'prev');}
el.startAuto=function(preventControlUpdate){if(slider.interval)return;slider.interval=setInterval(function(){slider.settings.autoDirection=='next'?el.goToNextSlide():el.goToPrevSlide();},slider.settings.pause);if(slider.settings.autoControls&&preventControlUpdate!=true)updateAutoControls('stop');}
el.stopAuto=function(preventControlUpdate){if(!slider.interval)return;clearInterval(slider.interval);slider.interval=null;if(slider.settings.autoControls&&preventControlUpdate!=true)updateAutoControls('start');}
el.getCurrentSlide=function(){return slider.active.index;}
el.getSlideCount=function(){return slider.children.length;}
var windowWidth=$(window).width();var windowHeight=$(window).height();$(window).resize(function(){var windowWidthNew=$(window).width();var windowHeightNew=$(window).height();if(windowWidth!=windowWidthNew||windowHeight!=windowHeightNew){windowWidth=windowWidthNew;windowHeight=windowHeightNew;slider.children.add(el.find('.bx-clone')).width(getSlideWidth());slider.viewport.css('height',getViewportHeight());if(slider.active.last)slider.active.index=getPagerQty()-1;if(slider.active.index>=getPagerQty())slider.active.last=true;if(slider.settings.pager&&!slider.settings.pagerCustom){populatePager();updatePagerActive(slider.active.index);}
if(!slider.settings.ticker)setSlidePosition();}});init();return this;}})(jQuery);(function(c,n){var l="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";c.fn.imagesLoaded=function(f){function m(){var b=c(i),a=c(h);d&&(h.length?d.reject(e,b,a):d.resolve(e));c.isFunction(f)&&f.call(g,e,b,a)}function j(b,a){b.src===l||-1!==c.inArray(b,k)||(k.push(b),a?h.push(b):i.push(b),c.data(b,"imagesLoaded",{isBroken:a,src:b.src}),o&&d.notifyWith(c(b),[a,e,c(i),c(h)]),e.length===k.length&&(setTimeout(m),e.unbind(".imagesLoaded")))}var g=this,d=c.isFunction(c.Deferred)?c.Deferred():0,o=c.isFunction(d.notify),e=g.find("img").add(g.filter("img")),k=[],i=[],h=[];c.isPlainObject(f)&&c.each(f,function(b,a){if("callback"===b)f=a;else if(d)d[b](a)});e.length?e.bind("load.imagesLoaded error.imagesLoaded",function(b){j(b.target,"error"===b.type)}).each(function(b,a){var d=a.src,e=c.data(a,"imagesLoaded");if(e&&e.src===d)j(a,e.isBroken);else if(a.complete&&a.naturalWidth!==n)j(a,0===a.naturalWidth||0===a.naturalHeight);else if(a.readyState||a.complete)a.src=l,a.src=d}):m();return d?d.promise(g):g}})(jQuery);

/*-----picturefill.js----*/

(function(w){"use strict";w.picturefill=function(){var ps=w.document.getElementsByTagName("div");for(var i=0,il=ps.length;i<il;i++){if(ps[i].getAttribute("data-picture")!==null){var sources=ps[i].getElementsByTagName("div"),matches=[];for(var j=0,jl=sources.length;j<jl;j++){var media=sources[j].getAttribute("data-media");if(!media||(w.matchMedia&&w.matchMedia(media).matches)){matches.push(sources[j]);}}
var picImg=ps[i].getElementsByTagName("img")[0];if(matches.length){if(!picImg){picImg=w.document.createElement("img");picImg.alt=ps[i].getAttribute("data-alt");ps[i].appendChild(picImg);}
picImg.src=matches.pop().getAttribute("data-src");}
else if(picImg){ps[i].removeChild(picImg);}}}};if(w.addEventListener){w.addEventListener("resize",w.picturefill,false);w.addEventListener("DOMContentLoaded",function(){w.picturefill();w.removeEventListener("load",w.picturefill,false);},false);w.addEventListener("load",w.picturefill,false);}
else if(w.attachEvent){w.attachEvent("onload",w.picturefill);}}(this));

/*-----matchmedia.js----*/

window.matchMedia=window.matchMedia||(function(doc,undefined){var docElem=doc.documentElement,refNode=docElem.firstElementChild||docElem.firstChild,fakeBody=doc.createElement('body'),div=doc.createElement('div');div.id='mq-test-1';div.style.cssText="position:absolute;top:-100em";fakeBody.style.background="none";fakeBody.appendChild(div);var mqRun=function(mq){div.innerHTML='&shy;<style media="'+mq+'"> #mq-test-1 { width: 42px; }</style>';docElem.insertBefore(fakeBody,refNode);bool=div.offsetWidth===42;docElem.removeChild(fakeBody);return{matches:bool,media:mq};},getEmValue=function(){var ret,body=docElem.body,fakeUsed=false;div.style.cssText="position:absolute;font-size:1em;width:1em";if(!body){body=fakeUsed=doc.createElement("body");body.style.background="none";}
body.appendChild(div);docElem.insertBefore(body,docElem.firstChild);if(fakeUsed){docElem.removeChild(body);}else{body.removeChild(div);}
ret=eminpx=parseFloat(div.offsetWidth);return ret;},eminpx,mqSupport=mqRun('(min-width: 0px)').matches;return function(mq){if(mqSupport){return mqRun(mq);}else{var min=mq.match(/\(min\-width:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||""),max=mq.match(/\(max\-width:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||""),minnull=min===null,maxnull=max===null,currWidth=doc.body.offsetWidth,em='em';if(!!min){min=parseFloat(min)*(min.indexOf(em)>-1?(eminpx||getEmValue()):1);}
if(!!max){max=parseFloat(max)*(max.indexOf(em)>-1?(eminpx||getEmValue()):1);}
bool=(!minnull||!maxnull)&&(minnull||currWidth>=min)&&(maxnull||currWidth<=max);return{matches:bool,media:mq};}};}(document));

/*-----SageBannerView.js----*/
;(function($){$.View=function(p){p=$.extend
({Auto_Slide:1,InfiniteLoop:'',NumericPager:'',TransitionMode:'',speed:'',pause:'',controls:''},p);var BannerView={Init:function(){var Auto_Slide=p.Auto_Slide;var InfiniteLoop=p.InfiniteLoop;var NumericPager=p.NumericPager;var TransitionMode=p.TransitionMode;if(Auto_Slide=="True"){Auto_Slide=true;}else{Auto_Slide=false;}
if(InfiniteLoop=="True"){InfiniteLoop=true;}else{InfiniteLoop=false;}
if(NumericPager=="True"){NumericPager=true;}else{NumericPager=false;}
TransitionMode=jQuery.trim(TransitionMode);var f=$("#sfSlider").bxSlider({mode:TransitionMode,infiniteLoop:InfiniteLoop,speed:p.speed,pager:NumericPager,pagerType:"full",pagerLocation:"bottom",pagerActiveClass:"pager-active",nextText:"next",prevText:"prev",captions:false,captionsSelector:null,auto:Auto_Slide,autoDirection:"next",autoControls:false,autoControlsSelector:null,autoStart:true,autoHover:true,pause:parseInt(p.pause),startText:"start",stopText:"stop",stopImage:"",wrapperClass:"",startingSlide:0,displaySlideQty:1,moveSlideQty:1,controls:p.controls.toLowerCase()=="false"?false:true});debugger;if(TransitionMode.toLowerCase()=='horizontal'){$('#sfSlider li').css('display','block');}
$(".thumbs a").on("click",function(){var b=$(".thumbs a").index(this);f.goToSlide(b);$(".thumbs a").removeClass("pager-active");$(this).addClass("pager-active");return false;});$(this).addClass("pager-active");setTimeout(function(){var sliderheight=$('#sfSlider li:nth-child(1) img').height();$('div.bx-viewport').css('height',sliderheight);},500);if(p.TransitionMode=="horizontal"){$('.bx-wrapper').addClass('sfHorz');}
$('#sfSlider li').attr("display:none;");}};BannerView.Init();};$.fn.BannerView=function(p){$.View(p);};})(jQuery);

/*-----NewsLetterView.js----*/

$(function(){var RootPath=AspxCommerce.utils.GetAspxRootPath();rewardPointsObj={Email:"",RewardRuleID:2};aspxCommonObj={StoreID:AspxCommerce.utils.GetStoreID(),PortalID:AspxCommerce.utils.GetPortalID(),UserName:AspxCommerce.utils.GetUserName(),CultureName:AspxCommerce.utils.GetCultureName(),CustomerID:AspxCommerce.utils.GetCustomerID(),SessionCode:AspxCommerce.utils.GetSessionCode()};var NewsLetter={config:{isPostBack:false,async:false,cache:false,type:'POST',contentType:"application/json; charset=utf-8",data:{data:''},dataType:'json',baseURL:NewsLetterPath+'Services/NewsLetterWebService.asmx/',method:"",url:"",ajaxCallMode:"",ModulePath:'',PortalID:PortalID,UserModuleID:UserModuleID,UserName:UserName,PageExt:PageExt},ajaxCall:function(config){$.ajax({type:NewsLetter.config.type,contentType:NewsLetter.config.contentType,cache:NewsLetter.config.cache,async:NewsLetter.config.async,url:NewsLetter.config.url,data:NewsLetter.config.data,dataType:NewsLetter.config.dataType,success:NewsLetter.config.ajaxCallMode,error:NewsLetter.config.error});},init:function(){$('input:radio[value=ByEmail]').attr('checked',true);$('input:radio[value=ByPhone]').attr('checked',false);$('#phoneSubscribe').hide();$('#divEmailSubsCribe').show();$("#imageplace").html('<img src="'+NewsLetterPath+'images/subscribe.png" alt="subscribe"/>');},IsModuleInstalled:function(){var rewardPoints='AspxRewardPoints';$.ajax({type:"POST",url:AspxCommerce.utils.GetAspxServicePath()+"AspxCommonHandler.ashx/"+"GetModuleInstallationInfo",data:JSON2.stringify({moduleFriendlyName:rewardPoints,aspxCommonObj:aspxCommonObj}),contentType:"application/json; charset=utf-8",dataType:"json",async:false,success:function(response){var isInstalled=response.d;if(isInstalled==true){NewsLetter.SaveRewardPointsCore();}},error:function(){csscody.error("<h2>"+GetSystemLocale("Error Message")+"</h2><p>"+GetSystemLocale("Failed to load module installation information!.")+"</p>");}});},SaveRewardPointsCore:function(){rewardPointsObj.Email=$("#txtSubscribeEmail").val();var ModuleServicePath=RootPath+"Modules/AspxCommerce/AspxRewardPoints/RewardPointsHandler.ashx/";this.config.method="RewardPointsSaveNewsLetter";this.config.url=ModuleServicePath+this.config.method;this.config.async=false;this.config.data=JSON2.stringify({rewardPointsInfo:rewardPointsObj,aspxCommonObj:aspxCommonObj});this.config.ajaxCallMode=NewsLetter.SaveRewardPointsCoreSuccess;this.config.error=NewsLetter.SaveRewardPointsCoreError;this.ajaxCall(this.config);},SaveRewardPointsCoreSuccess:function(){},SaveRewardPointsCoreError:function(){csscody.error("<h2>"+GetSystemLocale("Error Message")+"</h2><p>"+GetSystemLocale("Failed to add reward points!")+"</p>");},SaveEmailSubscriber:function(){var email=$("#txtSubscribeEmail").val();if(NewsLetter.CheckPreviousEmailSubscription(email)){var html=GetSystemLocale('You are already a subscribed member');$("#lblmessage").html(html).css({"display":"block","color":"red"});}
else{var mydata=JSON2.stringify({Email:email,UserModuleID:NewsLetter.config.UserModuleID,PortalID:NewsLetter.config.PortalID,UserName:NewsLetter.config.UserName,secureToken:SageFrameSecureToken});$.ajax({type:"POST",async:false,url:NewsLetter.config.baseURL+"SaveEmailSubscriber",data:mydata,contentType:"application/json; charset=utf-8",dataType:"json",success:function(data){if(aspxCommonObj.CustomerID!=0){NewsLetter.IsModuleInstalled();}
$("#txtSubscribeEmail").val('');$("#lblmessage").html(GetSystemLocale("Subscribed Successfully")).css({"display":"block","color":"green"});},error:function(){}});}},CheckPreviousEmailSubscription:function(email){var bitval=true;$.ajax({type:"POST",async:false,url:NewsLetter.config.baseURL+"CheckPreviousEmailSubscription",data:JSON2.stringify({Email:email,PortalID:SageFramePortalID,UserModuleID:NewsLetter.config.UserModuleID,UserName:SageFrameUserName,secureToken:SageFrameSecureToken}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(data){if(data.d.length>0){bitval=true;}
else{bitval=false;}},error:function(){}});return bitval;},SaveMobileSubscriber:function(){var phone=$("#txtPhone").val();var mydata=JSON2.stringify({Phone:phone,UserModuleID:NewsLetter.config.UserModuleID,PortalID:NewsLetter.config.PortalID,UserName:NewsLetter.config.UserName,secureToken:SageFrameSecureToken});$.ajax({type:"POST",async:false,url:NewsLetter.config.baseURL+"SaveMobileSubscriber",data:mydata,contentType:"application/json; charset=utf-8",dataType:"json",success:function(data){$("#txtPhone").val('');$("#lblmessage").html(GetSystemLocale("Subscribed Successfully")).css({"display":"block","color":"green"});},error:function(){}});},GetSetting:function(){var param=JSON2.stringify({UserModuleID:NewsLetter.config.UserModuleID,PortalID:NewsLetter.config.PortalID,UserName:SageFrameUserName});$.ajax({type:"POST",url:NewsLetter.config.baseURL+"GetNLSetting",data:param,contentType:"application/json; charset=utf-8",dataType:"json",success:function(data){$.each(data.d,function(index,item){$("#header h3").html(item.ModuleHeader);$("#header h5").html(item.ModuleDescription);if(item.IsMobileSubscription=="false"){$("#divRadios").hide();$("#phoneSubscribe").hide();}
$("#btnUnsubscibe").attr("href",item.UnSubscribePageName+PageExt);});},error:function(){}});}};NewsLetter.init();jQuery('input[name=rdbSubcribe]:radio').click(function(){var clickval=jQuery(this).val();if(clickval=='ByEmail'){$('#divEmailSubsCribe').show();$('#phoneSubscribe').hide();}
else if(clickval=='ByPhone'){$('#divEmailSubsCribe').hide();$('#phoneSubscribe').show();}});$("#btnSubscribe").off().on("click",function(event){event.preventDefault();if($('input:radio[value=ByEmail]').prop('checked')==true){var email=$('#divEmailSubsCribe>#txtSubscribeEmail').val();var email_check=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,6}$/i;if(!email_check.test(email)){$('#lblmessage').text(GetSystemLocale("Invalid Email")).css({"display":"block","color":"red"});return false;}
else{NewsLetter.SaveEmailSubscriber();return true;}}
else{if($("#txtPhone").val()!=""){NewsLetter.SaveMobileSubscriber();}
return true;}});});function isNumberKey(evt){var charCode=(evt.which)?evt.which:event.keyCode
if(charCode>31&&(charCode<48||charCode>57))
return false;return true;}

/*-----jquery.validate.js----*/

function limitMaxText(limitField){var limitNum=300;if(limitField.value.length>limitNum){limitField.value=limitField.value.substring(0,limitNum);return false;}else{return true;}}
(function($){$.extend($.fn,{validate:function(options){if(!this.length){if(options&&options.debug&&window.console){console.warn("Nothing selected, can't validate, returning nothing.");}
return;}
var validator=$.data(this[0],'validator');if(validator){return validator;}
validator=new $.validator(options,this[0]);$.data(this[0],"validator",validator);if(validator.settings.onsubmit){this.validateDelegate(":submit","click",function(event){if(validator.settings.submitHandler){validator.submitButton=event.target;}
if($(event.target).hasClass("cancel")){validator.cancelSubmit=true;}
if($(event.target).attr("formnovalidate")!==undefined){validator.cancelSubmit=true;}});this.submit(function(event){if(validator.settings.debug)
event.preventDefault();function handle(){var hidden;if(validator.settings.submitHandler){if(validator.submitButton){hidden=$("<input type='hidden'/>").attr("name",validator.submitButton.name).val(validator.submitButton.value).appendTo(validator.currentForm);}
validator.settings.submitHandler.call(validator,validator.currentForm);if(validator.submitButton){hidden.remove();}
return false;}
return true;}
if(validator.cancelSubmit){validator.cancelSubmit=false;return handle();}
if(validator.form()){if(validator.pendingRequest){validator.formSubmitted=true;return false;}
return handle();}else{validator.focusInvalid();return false;}});}
return validator;},valid:function(){if($(this[0]).is('form')){return this.validate().form();}else{var valid=true;var validator=$(this[0].form).validate();this.each(function(){valid=valid&&validator.element(this);});return valid;}},removeAttrs:function(attributes){var result={},$element=this;$.each(attributes.split(/\s/),function(index,value){result[value]=$element.attr(value);$element.removeAttr(value);});return result;},rules:function(command,argument){var element=this[0];if(command){var settings=$.data(element.form,'validator').settings;var staticRules=settings.rules;var existingRules=$.validator.staticRules(element);switch(command){case"add":$.extend(existingRules,$.validator.normalizeRule(argument));delete existingRules.messages;staticRules[element.name]=existingRules;if(argument.messages){settings.messages[element.name]=$.extend(settings.messages[element.name],argument.messages);}
break;case"remove":if(!argument){delete staticRules[element.name];return existingRules;}
var filtered={};$.each(argument.split(/\s/),function(index,method){filtered[method]=existingRules[method];delete existingRules[method];});return filtered;}}
var data=$.validator.normalizeRules($.extend({},$.validator.classRules(element),$.validator.attributeRules(element),$.validator.dataRules(element),$.validator.staticRules(element)),element);if(data.required){var param=data.required;delete data.required;data=$.extend({required:param},data);}
return data;}});$.extend($.expr[":"],{blank:function(a){return!$.trim(""+$(a).val());},filled:function(a){return!!$.trim(""+$(a).val());},unchecked:function(a){return!$(a).prop("checked");}});$.validator=function(options,form){this.settings=$.extend(true,{},$.validator.defaults,options);this.currentForm=form;this.init();};$.validator.format=function(source,params){if(arguments.length===1){return function(){var args=$.makeArray(arguments);args.unshift(source);return $.validator.format.apply(this,args);};}
if(arguments.length>2&&params.constructor!==Array){params=$.makeArray(arguments).slice(1);}
if(params.constructor!==Array){params=[params];}
$.each(params,function(i,n){source=source.replace(new RegExp("\\{"+i+"\\}","g"),function(){return n;});});return source;};$.extend($.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"sfError",validClass:"valid",errorElement:"span",focusInvalid:true,errorContainer:$([]),errorLabelContainer:$([]),onsubmit:true,ignore:[],ignoreTitle:false,onfocusin:function(element,event){this.lastActive=element;if(this.settings.focusCleanup&&!this.blockFocusCleanup){if(this.settings.unhighlight){this.settings.unhighlight.call(this,element,this.settings.errorClass,this.settings.validClass);}
this.addWrapper(this.errorsFor(element)).hide();}},onfocusout:function(element,event){if(!this.checkable(element)&&(element.name in this.submitted||!this.optional(element))){this.element(element);}},onkeyup:function(element,event){if(event.which===9&&this.elementValue(element)===""){return;}else if(element.name in this.submitted||element===this.lastElement){this.element(element);}},onclick:function(element,event){if(element.name in this.submitted){this.element(element);}
else if(element.parentNode.name in this.submitted){this.element(element.parentNode);}},highlight:function(element,errorClass,validClass){if(element.type==="radio"){this.findByName(element.name).addClass(errorClass).removeClass(validClass);}else{$(element).addClass(errorClass).removeClass(validClass);}},unhighlight:function(element,errorClass,validClass){if(element.type==="radio"){this.findByName(element.name).removeClass(errorClass).addClass(validClass);}else{$(element).removeClass(errorClass).addClass(validClass);}}},setDefaults:function(settings){$.extend($.validator.defaults,settings);},messages:{required:getLocale(CoreJsLanguage,"This field is required."),remote:getLocale(CoreJsLanguage,"Please fix this field."),email:getLocale(CoreJsLanguage,"Please enter a valid email address."),url:getLocale(CoreJsLanguage,"Please enter a valid URL."),date:getLocale(CoreJsLanguage,"Please enter a valid date."),dateISO:getLocale(CoreJsLanguage,"Please enter a valid date (ISO)."),number:getLocale(CoreJsLanguage,"Please enter a valid number."),digits:getLocale(CoreJsLanguage,"Please enter only digits"),creditcard:getLocale(CoreJsLanguage,"Please enter a valid credit card number."),equalTo:getLocale(CoreJsLanguage,"Please enter the same value again."),maxlength:$.validator.format(getLocale(CoreJsLanguage,"Please enter no more than {0} characters.")),minlength:$.validator.format(getLocale(CoreJsLanguage,"(at least {0} characters.)")),rangelength:$.validator.format(getLocale(CoreJsLanguage,"Please enter a value between {0} and {1} characters long.")),range:$.validator.format(getLocale(CoreJsLanguage,"Please enter a value between {0} and {1}.")),max:$.validator.format(getLocale(CoreJsLanguage,"Please enter a value less than or equal to {0}.")),min:$.validator.format(getLocale(CoreJsLanguage,"Please enter a value greater than or equal to {0}."))},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=$(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||$(this.currentForm);this.containers=$(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var groups=(this.groups={});$.each(this.settings.groups,function(key,value){if(typeof value==="string"){value=value.split(/\s/);}
$.each(value,function(index,name){groups[name]=key;});});var rules=this.settings.rules;$.each(rules,function(key,value){rules[key]=$.validator.normalizeRule(value);});function delegate(event){var validator=$.data(this[0].form,"validator"),eventType="on"+event.type.replace(/^validate/,"");if(validator.settings[eventType]){validator.settings[eventType].call(validator,this[0],event);}}
$(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, "+"[type='number'], [type='search'] ,[type='tel'], [type='url'], "+"[type='email'], [type='datetime'], [type='date'], [type='month'], "+"[type='week'], [type='time'], [type='datetime-local'], "+"[type='range'], [type='color'] ","focusin focusout keyup",delegate).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",delegate);if(this.settings.invalidHandler){$(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler);}},form:function(){this.checkForm();$.extend(this.submitted,this.errorMap);this.invalid=$.extend({},this.errorMap);if(!this.valid()){$(this.currentForm).triggerHandler("invalid-form",[this]);}
this.showErrors();return this.valid();},checkForm:function(){this.prepareForm();for(var i=0,elements=(this.currentElements=this.elements());elements[i];i++){this.check(elements[i]);}
return this.valid();},element:function(element){element=this.validationTargetFor(this.clean(element));this.lastElement=element;this.prepareElement(element);this.currentElements=$(element);var result=this.check(element)!==false;if(result){delete this.invalid[element.name];}else{this.invalid[element.name]=true;}
if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers);}
this.showErrors();return result;},showErrors:function(errors){if(errors){$.extend(this.errorMap,errors);this.errorList=[];for(var name in errors){this.errorList.push({message:errors[name],element:this.findByName(name)[0]});}
this.successList=$.grep(this.successList,function(element){return!(element.name in errors);});}
if(this.settings.showErrors){this.settings.showErrors.call(this,this.errorMap,this.errorList);}else{this.defaultShowErrors();}},resetForm:function(){if($.fn.resetForm){$(this.currentForm).resetForm();}
this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass).removeData("previousValue");},numberOfInvalids:function(){return this.objectLength(this.invalid);},objectLength:function(obj){var count=0;for(var i in obj){count++;}
return count;},hideErrors:function(){this.addWrapper(this.toHide).hide();},valid:function(){return this.size()===0;},size:function(){return this.errorList.length;},focusInvalid:function(){if(this.settings.focusInvalid){try{$(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin");}catch(e){}}},findLastActive:function(){var lastActive=this.lastActive;return lastActive&&$.grep(this.errorList,function(n){return n.element.name===lastActive.name;}).length===1&&lastActive;},elements:function(){var validator=this,rulesCache={};return $(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){if(!this.name&&validator.settings.debug&&window.console){console.error("%o has no name assigned",this);}
if(this.name in rulesCache||!validator.objectLength($(this).rules())){return false;}
rulesCache[this.name]=true;return true;});},clean:function(selector){return $(selector)[0];},errors:function(){var errorClass=this.settings.errorClass.replace(" ",".");return $(this.settings.errorElement+"."+errorClass,this.errorContext);},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=$([]);this.toHide=$([]);this.currentElements=$([]);},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers);},prepareElement:function(element){this.reset();this.toHide=this.errorsFor(element);},elementValue:function(element){var type=$(element).attr("type"),val=$(element).val();if(type==="radio"||type==="checkbox"){return $("input[name='"+$(element).attr("name")+"']:checked").val();}
if(typeof val==="string"){return val.replace(/\r/g,"");}
return val;},check:function(element){element=this.validationTargetFor(this.clean(element));var rules=$(element).rules();var dependencyMismatch=false;var val=this.elementValue(element);var result;for(var method in rules){var rule={method:method,parameters:rules[method]};try{result=$.validator.methods[method].call(this,val,element,rule.parameters);if(result==="dependency-mismatch"){dependencyMismatch=true;continue;}
dependencyMismatch=false;if(result==="pending"){this.toHide=this.toHide.not(this.errorsFor(element));return;}
if(!result){this.formatAndAdd(element,rule);return false;}}catch(e){if(this.settings.debug&&window.console){console.log("Exception occurred when checking element "+element.id+", check the '"+rule.method+"' method.",e);}
throw e;}}
if(dependencyMismatch){return;}
if(this.objectLength(rules)){this.successList.push(element);}
return true;},customDataMessage:function(element,method){return $(element).data("msg-"+method.toLowerCase())||(element.attributes&&$(element).attr("data-msg-"+method.toLowerCase()));},customMessage:function(name,method){var m=this.settings.messages[name];return m&&(m.constructor===String?m:m[method]);},findDefined:function(){for(var i=0;i<arguments.length;i++){if(arguments[i]!==undefined){return arguments[i];}}
return undefined;},defaultMessage:function(element,method){return this.findDefined(this.customMessage(element.name,method),this.customDataMessage(element,method),!this.settings.ignoreTitle&&element.title||undefined,$.validator.messages[method],"<strong>Warning: No message defined for "+element.name+"</strong>");},formatAndAdd:function(element,rule){var message=this.defaultMessage(element,rule.method),theregex=/\$?\{(\d+)\}/g;if(typeof message==="function"){message=message.call(this,rule.parameters,element);}else if(theregex.test(message)){message=$.validator.format(message.replace(theregex,"{$1}"),rule.parameters);}
this.errorList.push({message:message,element:element});this.errorMap[element.name]=message;this.submitted[element.name]=message;},addWrapper:function(toToggle){if(this.settings.wrapper){toToggle=toToggle.add(toToggle.parent(this.settings.wrapper));}
return toToggle;},defaultShowErrors:function(){var i,elements;for(i=0;this.errorList[i];i++){var error=this.errorList[i];if(this.settings.highlight){this.settings.highlight.call(this,error.element,this.settings.errorClass,this.settings.validClass);}
this.showLabel(error.element,error.message);}
if(this.errorList.length){this.toShow=this.toShow.add(this.containers);}
if(this.settings.success){for(i=0;this.successList[i];i++){this.showLabel(this.successList[i]);}}
if(this.settings.unhighlight){for(i=0,elements=this.validElements();elements[i];i++){this.settings.unhighlight.call(this,elements[i],this.settings.errorClass,this.settings.validClass);}}
this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show();},validElements:function(){return this.currentElements.not(this.invalidElements());},invalidElements:function(){return $(this.errorList).map(function(){return this.element;});},showLabel:function(element,message){var label=this.errorsFor(element);if(label.length){label.removeClass(this.settings.validClass).addClass(this.settings.errorClass);label.html(message);}else{label=$("<"+this.settings.errorElement+">").attr("for",this.idOrName(element)).addClass(this.settings.errorClass).html(message||"");if(this.settings.wrapper){label=label.hide().show().wrap("<"+this.settings.wrapper+"/>").parent();}
if(!this.labelContainer.append(label).length){if(this.settings.errorPlacement){this.settings.errorPlacement(label,$(element));}else{label.insertAfter(element);}}}
if(!message&&this.settings.success){label.text("");if(typeof this.settings.success==="string"){label.addClass(this.settings.success);}else{this.settings.success(label,element);}}
this.toShow=this.toShow.add(label);},errorsFor:function(element){var name=this.idOrName(element);return this.errors().filter(function(){return $(this).attr("for")===name;});},idOrName:function(element){return this.groups[element.name]||(this.checkable(element)?element.name:element.id||element.name);},validationTargetFor:function(element){if(this.checkable(element)){element=this.findByName(element.name).not(this.settings.ignore)[0];}
return element;},checkable:function(element){return(/radio|checkbox/i).test(element.type);},findByName:function(name){return $(this.currentForm).find("[name='"+name+"']");},getLength:function(value,element){switch(element.nodeName.toLowerCase()){case"select":return $("option:selected",element).length;case"input":if(this.checkable(element)){return this.findByName(element.name).filter(":checked").length;}}
return value.length;},depend:function(param,element){return this.dependTypes[typeof param]?this.dependTypes[typeof param](param,element):true;},dependTypes:{"boolean":function(param,element){return param;},"string":function(param,element){return!!$(param,element.form).length;},"function":function(param,element){return param(element);}},optional:function(element){var val=this.elementValue(element);return!$.validator.methods.required.call(this,val,element)&&"dependency-mismatch";},startRequest:function(element){if(!this.pending[element.name]){this.pendingRequest++;this.pending[element.name]=true;}},stopRequest:function(element,valid){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0;}
delete this.pending[element.name];if(valid&&this.pendingRequest===0&&this.formSubmitted&&this.form()){$(this.currentForm).submit();this.formSubmitted=false;}else if(!valid&&this.pendingRequest===0&&this.formSubmitted){$(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false;}},previousValue:function(element){return $.data(element,"previousValue")||$.data(element,"previousValue",{old:null,valid:true,message:this.defaultMessage(element,"remote")});}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},number:{number:true},digits:{digits:true},creditcard:{creditcard:true},alphanumeric:{alphanumeric:true}},addClassRules:function(className,rules){if(className.constructor===String){this.classRuleSettings[className]=rules;}else{$.extend(this.classRuleSettings,className);}},classRules:function(element){var rules={};var classes=$(element).attr("class");if(classes){$.each(classes.split(" "),function(){if(this in $.validator.classRuleSettings){$.extend(rules,$.validator.classRuleSettings[this]);}});}
return rules;},attributeRules:function(element){var rules={};var $element=$(element);var type=$element[0].getAttribute("type");for(var method in $.validator.methods){var value;if(method==="required"){value=$element.get(0).getAttribute(method);if(value===""){value=true;}
value=!!value;}else{value=$element.attr(method);}
if(/min|max/.test(method)&&(type===null||/number|range|text/.test(type))){value=Number(value);}
if(value){rules[method]=value;}else if(type===method&&type!=='range'){rules[method]=true;}}
if(rules.maxlength&&/-1|2147483647|524288/.test(rules.maxlength)){delete rules.maxlength;}
return rules;},dataRules:function(element){var method,value,rules={},$element=$(element);for(method in $.validator.methods){value=$element.data("rule-"+method.toLowerCase());if(value!==undefined){rules[method]=value;}}
return rules;},staticRules:function(element){var rules={};var validator=$.data(element.form,"validator");if(validator.settings.rules){rules=$.validator.normalizeRule(validator.settings.rules[element.name])||{};}
return rules;},normalizeRules:function(rules,element){$.each(rules,function(prop,val){if(val===false){delete rules[prop];return;}
if(val.param||val.depends){var keepRule=true;switch(typeof val.depends){case"string":keepRule=!!$(val.depends,element.form).length;break;case"function":keepRule=val.depends.call(element,element);break;}
if(keepRule){rules[prop]=val.param!==undefined?val.param:true;}else{delete rules[prop];}}});$.each(rules,function(rule,parameter){rules[rule]=$.isFunction(parameter)?parameter(element):parameter;});$.each(['minlength','maxlength'],function(){if(rules[this]){rules[this]=Number(rules[this]);}});$.each(['rangelength','range'],function(){var parts;if(rules[this]){if($.isArray(rules[this])){rules[this]=[Number(rules[this][0]),Number(rules[this][1])];}else if(typeof rules[this]==="string"){parts=rules[this].split(/[\s,]+/);rules[this]=[Number(parts[0]),Number(parts[1])];}}});if($.validator.autoCreateRanges){if(rules.min&&rules.max){rules.range=[rules.min,rules.max];delete rules.min;delete rules.max;}
if(rules.minlength&&rules.maxlength){rules.rangelength=[rules.minlength,rules.maxlength];delete rules.minlength;delete rules.maxlength;}}
return rules;},normalizeRule:function(data){if(typeof data==="string"){var transformed={};$.each(data.split(/\s/),function(){transformed[this]=true;});data=transformed;}
return data;},addMethod:function(name,method,message){$.validator.methods[name]=method;$.validator.messages[name]=message!==undefined?message:$.validator.messages[name];if(method.length<3){$.validator.addClassRules(name,$.validator.normalizeRule(name));}},methods:{required:function(value,element,param){if(!this.depend(param,element)){return"dependency-mismatch";}
if(element.nodeName.toLowerCase()==="select"){var val=$(element).val();return val&&val.length>0;}
if(this.checkable(element)){return this.getLength(value,element)>0;}
return $.trim(value).length>0;},email:function(value,element){return this.optional(element)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(value);},url:function(value,element){return this.optional(element)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(value);},date:function(value,element){return this.optional(element)||!/Invalid|NaN/.test(new Date(value).toString());},dateISO:function(value,element){return this.optional(element)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(value);},number:function(value,element){return this.optional(element)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(value);},digits:function(value,element){return this.optional(element)||/^\d+$/.test(value);},creditcard:function(value,element){if(this.optional(element)){return"dependency-mismatch";}
if(/[^0-9 \-]+/.test(value)){return false;}
var nCheck=0,nDigit=0,bEven=false;value=value.replace(/\D/g,"");for(var n=value.length-1;n>=0;n--){var cDigit=value.charAt(n);nDigit=parseInt(cDigit,10);if(bEven){if((nDigit*=2)>9){nDigit-=9;}}
nCheck+=nDigit;bEven=!bEven;}
return(nCheck%10)===0;},minlength:function(value,element,param){var length=$.isArray(value)?value.length:this.getLength($.trim(value),element);return this.optional(element)||length>=param;},maxlength:function(value,element,param){var length=$.isArray(value)?value.length:this.getLength($.trim(value),element);return this.optional(element)||length<=param;},rangelength:function(value,element,param){var length=$.isArray(value)?value.length:this.getLength($.trim(value),element);return this.optional(element)||(length>=param[0]&&length<=param[1]);},min:function(value,element,param){return this.optional(element)||value>=param;},max:function(value,element,param){return this.optional(element)||value<=param;},range:function(value,element,param){return this.optional(element)||(value>=param[0]&&value<=param[1]);},equalTo:function(value,element,param){var target=$(param);if(this.settings.onfocusout){target.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){$(element).valid();});}
return value===target.val();},alphanumeric:function(value,element,param){return this.optional(element)||/^[a-zA-Z0-9- ]*$/.test(value);},remote:function(value,element,param){if(this.optional(element)){return"dependency-mismatch";}
var previous=this.previousValue(element);if(!this.settings.messages[element.name]){this.settings.messages[element.name]={};}
previous.originalMessage=this.settings.messages[element.name].remote;this.settings.messages[element.name].remote=previous.message;param=typeof param==="string"&&{url:param}||param;if(previous.old===value){return previous.valid;}
previous.old=value;var validator=this;this.startRequest(element);var data={};data[element.name]=value;$.ajax($.extend(true,{url:param,mode:"abort",port:"validate"+element.name,dataType:"json",data:data,success:function(response){validator.settings.messages[element.name].remote=previous.originalMessage;var valid=response===true||response==="true";if(valid){var submitted=validator.formSubmitted;validator.prepareElement(element);validator.formSubmitted=submitted;validator.successList.push(element);delete validator.invalid[element.name];validator.showErrors();}else{var errors={};var message=response||validator.defaultMessage(element,"remote");errors[element.name]=previous.message=$.isFunction(message)?message(value):message;validator.invalid[element.name]=true;validator.showErrors(errors);}
previous.valid=valid;validator.stopRequest(element,valid);}},param));return"pending";}}});$.format=$.validator.format;}(jQuery));(function($){var pendingRequests={};if($.ajaxPrefilter){$.ajaxPrefilter(function(settings,_,xhr){var port=settings.port;if(settings.mode==="abort"){if(pendingRequests[port]){pendingRequests[port].abort();}
pendingRequests[port]=xhr;}});}else{var ajax=$.ajax;$.ajax=function(settings){var mode=("mode"in settings?settings:$.ajaxSettings).mode,port=("port"in settings?settings:$.ajaxSettings).port;if(mode==="abort"){if(pendingRequests[port]){pendingRequests[port].abort();}
pendingRequests[port]=ajax.apply(this,arguments);return pendingRequests[port];}
return ajax.apply(this,arguments);};}}(jQuery));(function($){$.extend($.fn,{validateDelegate:function(delegate,type,handler){return this.bind(type,function(event){var target=$(event.target);if(target.is(delegate)){return handler.apply(target,arguments);}});}});}(jQuery));(function($){$.fn.DigitOnly=function(value,element){var digit=$(value);return digit.keypress(function(e){if(e.which!=8&&e.which!=0&&(e.which<48||e.which>57)){$(element).html("Digits Only").css("color","red").show().fadeOut(1600);return false;}});};})(jQuery);(function($){$.fn.DigitAndDecimal=function(value,element){var digitDecimal=$(value);return digitDecimal.keypress(function(e){if(e.which!=8&&e.which!=0&&e.which!=46&&e.which!=31&&(e.which<48||e.which>57)){$(element).html("Digits And Decimal Only").css("color","red").show().fadeOut(1600);return false;}});};})(jQuery);(function($){$.fn.DigitDecimalAndNegative=function(value,element){var digitDecimal=$(value);return digitDecimal.keypress(function(e){if(e.which!=8&&e.which!=0&&e.which!=46&&e.which!=31&&(e.which<48||e.which>57)){if(e.which==45){return true;}
return false;}});};})(jQuery);
